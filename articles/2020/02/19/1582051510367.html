<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="theme-color" content="#3b3e43"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no"/><title>Java学习笔记-基础篇(1) - 雨羊的个人博客</title><meta name="description" content="A small and beautiful blogging system. 一款小而美的博客系统。"/><meta property="og:description" content="A small and beautiful blogging system. 一款小而美的博客系统。"/>    <meta name="keywords" content="雨羊,yuyang,Rainsheep,rainsheep,杨珑奇,yanglongqi"/><link rel="dns-prefetch" href="https://cdn.jsdelivr.net/gh/88250/solo/src/main/resources"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://cdn.jsdelivr.net/gh/88250/solo/src/main/resources"><link rel="icon" type="image/png" href="https://static.b3log.org/images/brand/solo-32.png"/><link rel="apple-touch-icon" href="https://static.b3log.org/images/brand/solo-32.png"><link rel="shortcut icon" type="image/x-icon" href="https://static.b3log.org/images/brand/solo-32.png"><meta name="copyright" content="B3log"/><meta http-equiv="Window-target" content="_top"/><meta property="og:locale" content="zh_CN"/><meta property="og:title" content="Java学习笔记-基础篇(1) - 雨羊的个人博客"/><meta property="og:site_name" content="雨羊的个人博客"/><meta property="og:url"      content="https://Rainsheep.github.io/articles/2020/02/19/1582051510367.html?"/><meta property="og:image" content="https://static.b3log.org/images/brand/solo-32.png"/><link rel="search" type="application/opensearchdescription+xml" title="Java学习笔记-基础篇(1) - 雨羊的个人博客" href="/opensearch.xml"><link href="https://Rainsheep.github.io/rss.xml" title="RSS" type="application/rss+xml" rel="alternate"/><link rel="manifest" href="https://Rainsheep.github.io/manifest.json">        <link rel="canonical" href="https://Rainsheep.github.io/articles/2020/02/19/1582051510367.html">        <link rel="stylesheet"
              href="https://cdn.jsdelivr.net/gh/88250/solo/src/main/resources/skins/nijigen/css/base.css?1584471619574"/>
            <link rel="prev" title="Java中的编码和解码" href="https://Rainsheep.github.io/articles/2020/02/11/1581366279386.html">
            <link rel="next" title="Java学习笔记-基础篇(2)" href="https://Rainsheep.github.io/articles/2020/02/19/1582052137407.html">
    </head>
<body>
<div class="bg"></div>
<div class="bg bg--1"></div>
<div class="bg bg--2"></div>
<div class="bg bg--3"></div>
<div class="bg bg--4"></div>
<div class="bg bg--5"></div>
<header class="header">
    <div class="header__wrap">
        <a href="https://Rainsheep.github.io" rel="start" class="header__logo">
            <i class="icon__home"></i> 雨羊的个人博客
        </a>

        <nav class="mobile__hidden header__nav">
                <a href="/my-github-repos" target="_self" rel="section">
                    <img class="page-icon" src="/images/github-icon.png" alt="我的开源">我的开源
                </a>
            <a href="https://Rainsheep.github.io/tags.html" rel="section">
                <i class="icon__tags"></i> 标签墙
            </a>
            <a href="https://Rainsheep.github.io/archives.html">
                <i class="icon__inbox"></i> 存档
            </a>
            <a rel="archive" href="https://Rainsheep.github.io/links.html">
                <i class="icon__link"></i> 友情链接
            </a>
            <a rel="alternate" href="https://Rainsheep.github.io/rss.xml" rel="section">
                <i class="icon__rss"></i> RSS
            </a>
        </nav>

    </div>
</header>
<div class="header__m fn__none">
    <i class="icon__list fn__none" onclick="$(this).next().slideToggle()"></i>
    <main class="module__list fn__none"></main>
    <i class="icon__more" onclick="$(this).next().slideToggle()"></i>
    <main class="module__list">
        <ul>
                <li>
                    <a href="/my-github-repos" target="_self" rel="section">
                        <img class="page-icon" src="/images/github-icon.png" alt="我的开源">我的开源
                    </a>
                </li>
            <li>
                <a href="https://Rainsheep.github.io/tags.html" rel="section">
                    <i class="icon__tags"></i> 标签墙
                </a>
            </li>
            <li>
                <a href="https://Rainsheep.github.io/archives.html">
                    <i class="icon__inbox"></i> 存档
                </a>
            </li>
            <li>
                <a rel="archive" href="https://Rainsheep.github.io/links.html">
                    <i class="icon__link"></i> 友情链接
                </a>
            </li>
            <li>
                <a rel="alternate" href="https://Rainsheep.github.io/rss.xml" rel="section">
                    <i class="icon__rss"></i> RSS
                </a>
            </li>
        </ul>
    </main>
</div>
<div class="main" id="pjax">
    
    <div class="content">
        <main id="articlePage">
            <div class="article-list">
                <div class="item item--active">
                    <time class="vditor-tooltipped vditor-tooltipped__n item__date"
                          aria-label="2020年">
                        03月
                        <span class="item__day">12</span>
                    </time>

                    <h2 class="item__title">
                        <a rel="bookmark" href="https://Rainsheep.github.io/articles/2020/02/19/1582051510367.html">
                            Java学习笔记-基础篇(1)
                        </a>
                    </h2>

                    <div class="item__date--m fn__none">
                        <i class="icon__date"></i>
                        2020-03-12
                    </div>

                    <div class="ft__center">
                        <span class="tag">
                            <i class="icon__tags"></i>
                            <a rel="tag" href="https://Rainsheep.github.io/tags/Java">
                                Java</a>,
                            <a rel="tag" href="https://Rainsheep.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">
                                学习笔记</a>
                        </span>
                            <a class="tag" href="https://Rainsheep.github.io/articles/2020/02/19/1582051510367.html#b3logsolocomments">
                                <i class="icon__comments"></i> <span data-uvstatcmt="1582051510367">0</span> 评论
                            </a>
                        <span class="tag">
                            <i class="icon__views"></i>
                        <span data-uvstaturl="https://Rainsheep.github.io/articles/2020/02/19/1582051510367.html">0</span> 浏览
                        </span>
                    </div>

                    <div class="vditor-reset">
                        <h3 id="1---前言-入门程序-常量-变量-">1. 【前言、入门程序、常量、变量】</h3>
<ul>
<li>char 类型为 2 字节，可以存储一个汉字</li>
</ul>
<h3 id="2---数据类型转换-运算符-方法入门-">2. 【数据类型转换、运算符、方法入门】</h3>
<ul>
<li>范围大小：<code>byte、short、char‐‐&gt;int‐‐&gt;long‐‐&gt;float‐‐&gt;double</code></li>
<li><code>byte 、short、char </code> 变量运算时直接提升为 <code>int</code></li>
<li>float，double 使用科学计数法，所以字节少范围大</li>
<li>ascii: 0 对应 48、A 对应 65，a 对应 97</li>
<li>&amp;&amp;和 || 均为短路，前面计算出结合，后面不再进行
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Demo09Logic</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-kt">int</span> <span class="highlight-n">a</span> <span class="highlight-o">=</span> <span class="highlight-n">10</span><span class="highlight-o">;</span>
        <span class="highlight-c1">// false &amp;&amp; ...
</span><span class="highlight-c1"></span>        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">3</span> <span class="highlight-o">&gt;</span> <span class="highlight-n">4</span> <span class="highlight-o">&amp;&amp;</span> <span class="highlight-o">++</span><span class="highlight-n">a</span> <span class="highlight-o">&lt;</span> <span class="highlight-n">100</span><span class="highlight-o">);</span> <span class="highlight-c1">// false
</span><span class="highlight-c1"></span>        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">a</span><span class="highlight-o">);</span> <span class="highlight-c1">// 10
</span><span class="highlight-c1"></span>        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"============"</span><span class="highlight-o">);</span>

        <span class="highlight-kt">int</span> <span class="highlight-n">b</span> <span class="highlight-o">=</span> <span class="highlight-n">20</span><span class="highlight-o">;</span>
        <span class="highlight-c1">// true || ...
</span><span class="highlight-c1"></span>        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">3</span> <span class="highlight-o">&lt;</span> <span class="highlight-n">4</span> <span class="highlight-o">||</span> <span class="highlight-o">++</span><span class="highlight-n">b</span> <span class="highlight-o">&lt;</span> <span class="highlight-n">100</span><span class="highlight-o">);</span> <span class="highlight-c1">// true
</span><span class="highlight-c1"></span>        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">b</span><span class="highlight-o">);</span> <span class="highlight-c1">// 20
</span><span class="highlight-c1"></span>    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>&amp;&amp; 和 &amp; 的区别：
<ul>
<li>都表示逻辑运算符 and 。</li>
<li>&amp;&amp; 具有短路功能，&amp; 不具有。</li>
<li>&amp; 当两边的表达式不是 <code>boolean</code> 类型的时候，可以用作位运算符。</li>
</ul>
</li>
<li>复合赋值运算符(+= 等)其中隐含了一个强制类型转换
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Demo07Operator</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-kt">byte</span> <span class="highlight-n">num</span> <span class="highlight-o">=</span> <span class="highlight-n">30</span><span class="highlight-o">;</span>
        <span class="highlight-c1">// num = num + 5;
</span><span class="highlight-c1"></span>        <span class="highlight-c1">// num = byte + int
</span><span class="highlight-c1"></span>        <span class="highlight-c1">// num = int + int
</span><span class="highlight-c1"></span>        <span class="highlight-c1">// num = int
</span><span class="highlight-c1"></span>        <span class="highlight-c1">// num = (byte) int
</span><span class="highlight-c1"></span>        <span class="highlight-n">num</span> <span class="highlight-o">+=</span> <span class="highlight-n">5</span><span class="highlight-o">;</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">num</span><span class="highlight-o">);</span> <span class="highlight-c1">// 35
</span><span class="highlight-c1"></span>    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>对于 byte/short/char 三种类型来说，如果右侧赋值的数值没有超过范围，那么 <code>javac</code> 编译器将会自动隐含地为我们补上一个(byte)(short)(char)。如果右侧超过了左侧范围，那么直接编译器报错。
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Demo12Notice</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">// 右侧确实是一个int数字，但是没有超过左侧的范围，就是正确的。
</span><span class="highlight-c1"></span>        <span class="highlight-c1">// int --&gt; byte，不是自动类型转换
</span><span class="highlight-c1"></span>        <span class="highlight-kt">byte</span> <span class="highlight-n">num1</span> <span class="highlight-o">=</span> <span class="highlight-cm">/*(byte)*/</span> <span class="highlight-n">30</span><span class="highlight-o">;</span> <span class="highlight-c1">// 右侧没有超过左侧的范围
</span><span class="highlight-c1"></span>        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">num1</span><span class="highlight-o">);</span> <span class="highlight-c1">// 30
</span><span class="highlight-c1"></span>
        <span class="highlight-c1">// byte num2 = 128; // 右侧超过了左侧的范围
</span><span class="highlight-c1"></span>
        <span class="highlight-c1">// int --&gt; char，没有超过范围
</span><span class="highlight-c1"></span>        <span class="highlight-c1">// 编译器将会自动补上一个隐含的(char)
</span><span class="highlight-c1"></span>        <span class="highlight-kt">char</span> <span class="highlight-n">zifu</span> <span class="highlight-o">=</span> <span class="highlight-cm">/*(char)*/</span> <span class="highlight-n">65</span><span class="highlight-o">;</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">zifu</span><span class="highlight-o">);</span> <span class="highlight-c1">// A
</span><span class="highlight-c1"></span>    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>编译器的常量优化：在给变量进行赋值的时候，如果右侧的表达式当中全都是常量，没有任何变量，<br>
那么编译器 <code>javac</code> 将会直接将若干个常量表达式计算得到结果。<br>
<code>short result = 5 + 8; // 等号右边全都是常量，没有任何变量参与运算</code><br>
编译之后，得到的。class 字节码文件当中相当于【直接就是】：<br>
<code>short result = 13;</code><br>
右侧的常量结果数值，没有超过左侧范围，所以正确。<br>
这称为“编译器的常量优化”。<br>
但是注意：一旦表达式当中有变量参与，那么就不能进行这种优化了。
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Demo13Notice</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-kt">short</span> <span class="highlight-n">num1</span> <span class="highlight-o">=</span> <span class="highlight-n">10</span><span class="highlight-o">;</span> <span class="highlight-c1">// 正确写法，右侧没有超过左侧的范围，
</span><span class="highlight-c1"></span>
        <span class="highlight-kt">short</span> <span class="highlight-n">a</span> <span class="highlight-o">=</span> <span class="highlight-n">5</span><span class="highlight-o">;</span>
        <span class="highlight-kt">short</span> <span class="highlight-n">b</span> <span class="highlight-o">=</span> <span class="highlight-n">8</span><span class="highlight-o">;</span>
        <span class="highlight-c1">// short + short --&gt; int + int --&gt; int
</span><span class="highlight-c1"></span>        <span class="highlight-c1">// short result = a + b; // 错误写法！左侧需要是int类型
</span><span class="highlight-c1"></span>
        <span class="highlight-c1">// 右侧不用变量，而是采用常量，而且只有两个常量，没有别人
</span><span class="highlight-c1"></span>        <span class="highlight-kt">short</span> <span class="highlight-n">result</span> <span class="highlight-o">=</span> <span class="highlight-n">5</span> <span class="highlight-o">+</span> <span class="highlight-n">8</span><span class="highlight-o">;</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">result</span><span class="highlight-o">);</span>

        <span class="highlight-kt">short</span> <span class="highlight-n">result2</span> <span class="highlight-o">=</span> <span class="highlight-n">5</span> <span class="highlight-o">+</span> <span class="highlight-n">a</span> <span class="highlight-o">+</span> <span class="highlight-n">8</span><span class="highlight-o">;</span> <span class="highlight-c1">// 报错
</span><span class="highlight-c1"></span>    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
</ul>
<h3 id="3---流程控制语句-">3. 【流程控制语句】</h3>
<ul>
<li>switch 后面小括号当中只能是下列数据类型：<br>
基本数据类型：<code>byte/short/char/int</code><br>
引用数据类型：<code>Character、Byte、Short、Integer、String字符串、enum枚举</code></li>
<li>Java 中 <code>break</code>、<code>continue</code> 后跟标签标签可以指定跳出或继续的循环：
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Main</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">go</span><span class="highlight-o">:</span>
        <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">i</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">i</span> <span class="highlight-o">&lt;</span> <span class="highlight-n">10</span><span class="highlight-o">;</span> <span class="highlight-n">i</span><span class="highlight-o">++)</span> <span class="highlight-o">{</span>
            <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">j</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">j</span> <span class="highlight-o">&lt;</span> <span class="highlight-n">10</span><span class="highlight-o">;</span> <span class="highlight-n">j</span><span class="highlight-o">++)</span> <span class="highlight-o">{</span>
                <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">j</span><span class="highlight-o">);</span>
                <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">j</span> <span class="highlight-o">==</span> <span class="highlight-n">1</span><span class="highlight-o">)</span> <span class="highlight-k">break</span> <span class="highlight-n">go</span><span class="highlight-o">;</span><span class="highlight-c1">//0  1
</span><span class="highlight-c1"></span>            <span class="highlight-o">}</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>三目运算符：
<pre><code class="language-java highlight-chroma"><span class="highlight-c1">//三目运算符
</span><span class="highlight-c1"></span><span class="highlight-n">2</span><span class="highlight-o">&gt;</span><span class="highlight-n">1</span> <span class="highlight-o">?</span> <span class="highlight-n">num1</span> <span class="highlight-o">:</span> <span class="highlight-n">num2</span><span class="highlight-o">;</span><span class="highlight-c1">//(错误的)
</span><span class="highlight-c1">//相当于
</span><span class="highlight-c1"></span><span class="highlight-k">if</span><span class="highlight-o">(</span><span class="highlight-n">2</span><span class="highlight-o">&gt;</span><span class="highlight-n">1</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
    <span class="highlight-k">return</span> <span class="highlight-n">num1</span><span class="highlight-o">;</span>
<span class="highlight-o">}</span> <span class="highlight-k">else</span> <span class="highlight-o">{</span>
    <span class="highlight-k">return</span> <span class="highlight-n">num2</span><span class="highlight-o">;</span>
<span class="highlight-o">}</span>
<span class="highlight-c1">//三目运算符有返回值，应该写成
</span><span class="highlight-c1"></span><span class="highlight-kt">int</span> <span class="highlight-n">x</span> <span class="highlight-o">=</span> <span class="highlight-n">2</span><span class="highlight-o">&gt;</span><span class="highlight-n">1</span> <span class="highlight-o">?</span> <span class="highlight-n">num1</span> <span class="highlight-o">:</span> <span class="highlight-n">num2</span><span class="highlight-o">;</span>
</code></pre>
</li>
</ul>
<h3 id="5---数组-">5. 【数组】</h3>
<ul>
<li>
<p>Java 中数组也是一个对象，父类为 <code>Object</code> ，基本数据类型不是对象。</p>
</li>
<li>
<p>动态初始化方法：<strong><code>int[] arr=new int[5]</code></strong></p>
</li>
<li>
<p>静态初始化：<strong><code>int[] arr=new int[]{1,2,3,4,5}</code></strong></p>
</li>
<li>
<p>静态初始化省略方式：<strong><code>int[] arr={1,2,3,4,5}</code></strong></p>
</li>
<li>
<p>动态初始化和静态初始化标准方式可以拆分为两个步骤，<strong><code>int[] arr;   arr=new int[5];和arr=new int[]{1,2,3,4,5};</code></strong>，但是静态初始化的省略模式不可拆分为两个步骤。</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Main</span><span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-kt">int</span><span class="highlight-o">[]</span> <span class="highlight-n">arr</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-kt">int</span><span class="highlight-o">[</span><span class="highlight-n">1</span><span class="highlight-o">];</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">arr</span><span class="highlight-o">);</span><span class="highlight-c1">//[I@14ae5a5
</span><span class="highlight-c1"></span>        <span class="highlight-kt">float</span><span class="highlight-o">[]</span> <span class="highlight-n">arr2</span><span class="highlight-o">={</span><span class="highlight-n">1</span><span class="highlight-o">,</span><span class="highlight-n">2</span><span class="highlight-o">,</span><span class="highlight-n">3</span><span class="highlight-o">,</span><span class="highlight-n">4</span><span class="highlight-o">};</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">arr2</span><span class="highlight-o">);</span><span class="highlight-c1">//[F@7f31245a
</span><span class="highlight-c1"></span>    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<p>打印的为内存地址哈希值<br>
"["代表数组<br>
"I"代表 int<br>
"@"后面为 16 进制地址</p>
</li>
<li>
<p>动态初始化数组时，<code>int[] arr=new int[5];</code> 其中的元素会有一个默认值，规则如下：<br>
整数：0<br>
浮点数：0.0<br>
字符型：'\u0000'  非 null,非空格，看起来像空格，是个 <code>unicode</code> 字符<br>
布尔型：false<br>
引用类型：null</p>
</li>
<li>
<p>静态初始化其实也有默认值的过程，只不过系统自动马上将默认值替换成为了大括号当中的具体数值。</p>
</li>
<li>
<p>Java 的内存划分，5 个部分</p>
<ol>
<li><strong>栈（Stack）</strong>：存放的都是方法中的局部变量。<strong>方法的运行一定要在栈当中运行。</strong><br>
局部变量：方法的参数，或者是方法{}内部的变量。<br>
作用域：一旦超出作用域，立刻从栈内存当中消失。</li>
<li><strong>堆（Heap）</strong>：<strong>凡是 new 出来的东西，都在堆当中。</strong><br>
堆内存里面的东西都有一个地址值：16 进制<br>
堆内存里面的数据，都有默认值。规则：<br>
如果是整数           默认为 0<br>
如果是浮点数       默认为 0.0<br>
如果是字符           默认为'\u0000'<br>
如果是布尔           默认为 false<br>
如果是引用类型   默认为 null</li>
<li><strong>方法区（Method Area）</strong>：存储 class 相关信息，包含方法的信息。</li>
<li>本地方法栈（Native Method Stack）：与操作系统相关。</li>
<li>寄存器（pc Register）：与 CPU 相关。</li>
</ol>
</li>
</ul>
<h3 id="6---类与对象-封装-构造方法-">6. 【类与对象、封装、构造方法】</h3>
<ul>
<li>和当前包属于同一包，或者 <code>java.lang</code> 包下，可以省略导包语句。</li>
<li>成员变量会有默认初始值，和数组一样的规则。</li>
<li>堆中 new 出来的类空间中的成员方法，在堆中保存的为成员方法在方法区中的内存地址。</li>
<li>加载成员方法时，通过栈中的类变量的地址找到变量在堆中的空间，在通过成员方法在堆保存中的地址(指向方法区中的方法的地址)找到方法区中 class 文件的方法。</li>
<li>对于基本类型中的 <code>boolean</code> 值，<code>Getter</code> 方法为 <code>isXxx</code> 的形式，<code>Setter</code> 方法为 <code>setXxx</code> 形式。</li>
<li>通过谁调用方法，this 就代表谁。</li>
<li><code>java.util.Random</code>
<ul>
<li><code>int nextInt()  </code> 返回一个随机数，随机 <code>int </code> 值(正负皆有可能)。</li>
<li><code>int nextInt(int n)</code> 返回一个随机数，在 0（包括）和指定值（不包括）之间。</li>
<li><code>double nextDouble()</code> 返回一个随机数，在 0.0 和 1.0 之间(很多位，均匀分布)。</li>
<li>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">import</span> <span class="highlight-nn">java.util.Random</span><span class="highlight-o">;</span>
<span class="highlight-n">Random</span> <span class="highlight-n">r</span><span class="highlight-o">=</span><span class="highlight-k">new</span> <span class="highlight-n">Random</span><span class="highlight-o">();</span>
<span class="highlight-c1">//获取随机int数字，范围是所有int范围，有正负两种
</span><span class="highlight-c1"></span><span class="highlight-kt">int</span> <span class="highlight-n">num</span><span class="highlight-o">=</span><span class="highlight-n">r</span><span class="highlight-o">.</span><span class="highlight-na">nextInt</span><span class="highlight-o">();</span>
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="8---String-类-static-关键字-Arrays-类-Math-类-">8. 【String 类、static 关键字、Arrays 类、Math 类】</h3>
<ul>
<li>
<p>JDK8：String 底层是 char[]数组。；JDK9：String 底层是 byte[]字节数组。</p>
</li>
<li>
<p>String 的构造方法：</p>
<ul>
<li><code>String();</code> 创建一个空白字符串，不含有任何内容。</li>
<li><code>String(char[] array);</code> 根据字符数组的内容，创建对应字符串。</li>
<li><code>String(byte[] array); </code> 根据字节数组的内容，来创建对应的字符串。</li>
<li><code>String(byte[] value, int offset, int count);</code></li>
<li><code>String(byte[] value, int offset, int count, String charset);</code></li>
<li><code>String(String original);</code> 初始化一个新创建的 String 对象，使其表示一个与参数相同的字符序列。</li>
<li><code>String(StringBuffer buffer);</code></li>
<li><code>String(StringBuilder builder);</code></li>
</ul>
</li>
<li>
<p><code>StringBuffer</code> 线程安全，效率低；<br>
<code>StringBuilder</code> 线程不安全，效率高，JDK1.5 出现。</p>
</li>
<li>
<p>从 JDK1.7 开始，字符串常量池在堆中，字符串直接写上的双引号字符串，就在字符串常量池中。</p>
</li>
<li>
<p>字符串常量池中存储的字符串对象中存储的为实际数组的地址。<img src="https://raw.githubusercontent.com/Rainsheep/pic-bed/master/img/2020-01-13+13:01:05+p_20200113010103.png" alt=""></p>
</li>
<li>
<p>String 求长度为方法 length();</p>
</li>
<li>
<p>String 的 <code>indexOf(String str);</code> 找不到返回-1</p>
</li>
<li>
<p>String 常用方法</p>
<ul>
<li><code>boolean equals (Object anObject)</code></li>
<li><code>boolean equalsIgnoreCase (String anotherString) </code></li>
<li><code>int length ()</code></li>
<li><code>String concat (String str) </code></li>
<li><code>char charAt (int index)</code></li>
<li><code>int indexOf (String str)</code></li>
<li><code>String substring (int beginIndex) </code></li>
<li><code>String substring (int beginIndex, int endIndex)</code></li>
<li><code>char[] toCharArray ()</code></li>
<li><code>byte[] getBytes () </code></li>
<li><code>String replace (CharSequence target, CharSequence replacement)</code>   String 实现了 <code>CharSequence</code> 接口，第 2 个参数替换第 1 个参数。</li>
<li><code>String[] split(String regex)</code></li>
<li><code>void getChars(int srcBegin,int srcEnd,char[] dst,int dstBegin)</code> 将字符从此字符串复制到目标字符数组。</li>
<li><code>String trim()</code> 返回字符串的副本，忽略前导空白和尾部空白。</li>
<li><code>compareTo(String anotherString);</code></li>
<li><code>boolean endsWith(String suffix);</code></li>
<li><code>boolean startsWith(String prefix);</code></li>
<li><code>boolean matches(String regex);</code> 告知字符串是否匹配给定的正则表达式。</li>
<li><code>String toLowerCase();</code></li>
<li><code>String toUpperCase();</code></li>
</ul>
</li>
<li>
<p>String 中 <code>+</code> 和 <code>concat()</code> 方法对比：</p>
<ul>
<li><code>concat()</code> 方法，开辟一个新的数组，把原数组复制进去，并将要连接的数组，复制进新数组的后面。</li>
<li><code>+</code> 号运算符，两个 <code>String</code> 相 + 的源码为 <code>(new StringBuilder()).append(s1).append(s2).toString();</code></li>
</ul>
<blockquote>
<p><code>concat()</code> 效率比 <code>+</code> 高，只适用于 <code>String</code> 与 <code>String</code> 的拼接，而 <code>+</code> 适用于 <code>String</code> 与任何对象的拼接。</p>
</blockquote>
</li>
<li>
<p>正则中 <code>\\.</code>: 这要分两步看，首先字符串中的 <code>\\</code> 被编译器解释为 <code>\</code>，然后作为正则表达式 <code>\.</code> 又被正则表达式引擎解释为 <code>.</code>,如果在字符串里只写 <code>\.</code> 的话，第一步就被直接解释为 <code>.</code>，之后作为正则表达式被解释时就变成匹配任意字符了。</p>
</li>
<li>
<p><code>public String[] split(String regex,int limit)</code><br>
limit 影响所得数组的长度。如果大于 0，数组的长度将不会大于 limit。如果 n 为非正，数组可以是任何长度。如果 n 为 0，结尾空字符串将被丢弃。<img src="https://raw.githubusercontent.com/Rainsheep/pic-bed/master/img/2020-01-13+14:24:56+p_20200113022454.png" alt=""></p>
</li>
<li>
<p>对于本类当中的静态方法，调用时类名称可以省略。</p>
</li>
<li>
<p>在方法区中存在一个静态区，存储静态的内容。<img src="https://raw.githubusercontent.com/Rainsheep/pic-bed/master/img/2020-01-13+15:17:44+p_20200113031743.png" alt=""></p>
</li>
<li>
<p>静态代码块比构造方法先执行。</p>
</li>
<li>
<p><code>java.util.Arrays</code> 数组工具类：</p>
<ul>
<li><code>static String toString(数组);</code> 将数组按照默认格式变成字符串，[元素 1，元素 2]</li>
<li><code>static void sort(T[] a, int fromIndex, int toIndex, Comparator&lt;? super T&gt; c) </code>: 根据指定比较器产生的顺序对指定对象数组的指定范围进行排序。
<ul>
<li>重载方法数组类型可以改变(基本类型或引用类型)。</li>
<li>重载方法 <code>fromIndex</code> 和 <code>toIndex</code> 可以省略。</li>
<li>重载方法 <code>Comparator c</code> 可以省略。</li>
</ul>
</li>
<li><code>static List&lt;T&gt; asList(T... a);</code> 返回一个固定大小(无法添加元素)的 <code>List&lt;T&gt;</code> 集合。</li>
<li><code>static int binarySearch(Object[] a, int fromIndex, int toIndex, Object key);</code>
<ul>
<li>二分查找 <code>key</code>，其中重载方法参数数组类型可以改变(基本类型或者引用类型)，<code>fromIndex</code> 和 <code>toIndex</code> 可以省略。</li>
<li>数组必须是有序的。</li>
</ul>
</li>
<li><code>static T[] copyOf(T[] original, int newLength) </code>: 复制指定的数组，截取或用 null 填充（如有必要），以使副本<strong>具有指定的长度</strong>。
<ul>
<li>重载方法数组类型可以改变(基本类型或引用类型)，基本类型用 0 填充。</li>
</ul>
</li>
<li><code>static T[] copyOfRange(T[] original, int from, int to)</code>: 将指定数组的指定范围复制到一个新数组。
<ul>
<li>重载方法数组类型可以改变(基本类型或引用类型)。</li>
</ul>
</li>
<li><code>static void fill(Object[] a, int fromIndex, int toIndex, Object val) </code>: 将指定的 Object 引用分配给指定 Object 数组指定范围中的每个元素。
<ul>
<li>重载方法数组类型可以改变(基本类型或引用类型)。</li>
<li>重载方法 <code>fromIndex</code> 和 <code>toIndex</code> 可以省略。</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>java.lang.Math</code> :</p>
<ul>
<li><code>public static double abs(double num)</code>:获取绝对值，重载方法返回值和参数类型一样。</li>
<li><code>public static double ceil(double num)</code>:向上取整</li>
<li><code>public static double floor(double num)</code>:向下取整</li>
<li><code>public static long round(double num)</code>:四舍五入</li>
<li><code>public static double sin(double x)</code></li>
<li><code>public static double asin(double x)</code></li>
<li><code>public static double cos(double x)</code></li>
<li><code>public static double acos(double x)</code></li>
<li><code>public static double tan(double x)</code></li>
<li><code>public static double atan(double x)</code></li>
<li><code>public static double log(double a)</code></li>
<li><code>public static double log10(double)</code></li>
<li><code>public static int max(int a, int b)</code></li>
<li><code>public static int min(int a, intb)</code></li>
<li><code>public static double pow(double a, double b)</code></li>
</ul>
</li>
<li>
<p>double 可以进行 ++ 操作。</p>
</li>
</ul>
<h3 id="9---继承-super-this-抽象类-">9. 【继承、super、this、抽象类】</h3>
<ul>
<li>父类，也可以叫基类、超类。</li>
<li>子类，也可以叫派生类。</li>
<li>重写时子类方法的返回值必须等于父类的返回值或者是父类返回值的子类，权限必须大于等于父类的权限修饰符。</li>
<li><code>private</code> 修饰的变量和方法不会被继承。</li>
<li>继承时，子类和父类的方法必须是实例方法，如果父类和子类都是 static 方法，那么子类隐藏父类的方法，而不是重写父类方法。</li>
<li>继承中，直接访问成员变量时，左边是谁就访问谁的变量，没有则向上找；通过成员方法访问成员变量时，方法属于谁，优先用谁，没有则向上找。</li>
<li>继承时，会在子类的内存中开辟父类的内存，方法区加载的子类中会有父类 class 文件的地址。<img src="https://raw.githubusercontent.com/Rainsheep/pic-bed/master/img/2020-01-15+01:13:32+image-20200114174509329.png" alt=""></li>
</ul>
<h3 id="10--接口-多态-">10.【接口、多态】</h3>
<ul>
<li>
<p>Java7:接口可以包含</p>
<ol>
<li>常量</li>
<li>抽象方法</li>
</ol>
<p>Java8，还可以包含</p>
<ol>
<li>默认方法</li>
<li>静态方法</li>
</ol>
<p>Java9，还可以包含</p>
<ol>
<li>私有方法</li>
</ol>
</li>
<li>
<p>接口中的方法默认为 <code>public abstract</code>，可以省略。</p>
</li>
<li>
<p>接口中的默认方法用 <code>default</code> 修饰，默认且必须 public，实现接口不必须重写默认方法，也可以重写，可以通过实现类对象来直接调用默认方法。</p>
</li>
<li>
<p>不能通过接口实现类的对象来调用接口当中的静态方法(继承可以)。必须通过接口名.方法名调用，因为可以实现多个接口，静态方法不一定是哪个接口中的。</p>
</li>
<li>
<p>私有方法，解决多个默认方法之间重复代码问题<br>
格式：<code>pritave 返回值类型 方法名称(参数列表){}</code><br>
<code>private static 返回值类型 方法名称(参数列表){}</code></p>
</li>
<li>
<p>final 修饰的变量必须被赋值。</p>
</li>
<li>
<p>接口中常量默认且必须为 <code>public static final</code> 修饰。</p>
</li>
<li>
<p>接口是没有静态代码块或者构造方法的。</p>
</li>
<li>
<p>问：怎么查看一个类实现的所有接口？<br>
答：①此类以及父类实现的接口都属于本类实现的接口。②此类所实现的接口继承的接口也属于本类所实现的接口。</p>
</li>
<li>
<p>如果实现类实现的多个接口当中，存在重复的默认方法，那么实现类一定要对冲突的默认方法进行覆盖重写。</p>
</li>
<li>
<p>一个类的父类方法和接口的默认方法冲突，优先用父类方法。</p>
</li>
<li>
<p>接口与接口之间为多继承关系。</p>
</li>
<li>
<p>在多态中，成员方法的访问规则是：看 new 的是谁，就优先用谁，没有则向上找。</p>
</li>
<li>
<p>向上转型就是父类引用指向子类对象。</p>
</li>
<li>
<p><code>对象名 instanceof 类名称</code>，判断对象能不能当做后面类型的实例，结果为 <code>boolean</code> 值。</p>
</li>
</ul>
<h3 id="11--final-权限-内部类-引用类型-">11.【final、权限、内部类、引用类型】</h3>
<ul>
<li>
<p>final 可以修饰类、方法、局部变量、成员变量。</p>
</li>
<li>
<p>final 用来修饰一个类的时候，不能有任何子类，可以有父类。</p>
</li>
<li>
<p>final 修饰一个方法时，此方法不能被覆盖重写。</p>
</li>
<li><table>
<thead>
<tr>
<th></th>
<th>public</th>
<th>protected</th>
<th>(default)</th>
<th>private</th>
</tr>
</thead>
<tbody>
<tr>
<td>同一个类</td>
<td>YES</td>
<td>YES</td>
<td>YES</td>
<td>YES</td>
</tr>
<tr>
<td>同一个包</td>
<td>YES</td>
<td>YES</td>
<td>YES</td>
<td>NO</td>
</tr>
<tr>
<td>不同包子类</td>
<td>YES</td>
<td>YES</td>
<td>NO</td>
<td>NO</td>
</tr>
<tr>
<td>不同包非子类</td>
<td>YES</td>
<td>NO</td>
<td>NO</td>
<td>NO</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>protected 修饰的字段或方法在不同包的子类中允许用<strong>子类对象来访问</strong>，但不允许用父类对象来访问。</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Fu</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">protected</span> <span class="highlight-n">String</span> <span class="highlight-n">num</span> <span class="highlight-o">=</span> <span class="highlight-s">"fu"</span><span class="highlight-o">;</span>
<span class="highlight-o">}</span>
</code></pre>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package2</span><span class="highlight-o">;</span>

<span class="highlight-kn">import</span> <span class="highlight-nn">package1.Fu</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Zi</span> <span class="highlight-kd">extends</span> <span class="highlight-n">Fu</span><span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">method</span><span class="highlight-o">(){</span>
        <span class="highlight-c1">//正确写法
</span><span class="highlight-c1"></span>        <span class="highlight-n">Zi</span> <span class="highlight-n">zi</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Zi</span><span class="highlight-o">();</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">zi</span><span class="highlight-o">.</span><span class="highlight-na">num</span><span class="highlight-o">);</span>

        <span class="highlight-c1">//错误写法，无法访问
</span><span class="highlight-c1"></span>        <span class="highlight-c1">//Fu fu = new Fu();
</span><span class="highlight-c1"></span>        <span class="highlight-c1">//System.out.println(fu.num);
</span><span class="highlight-c1"></span>        <span class="highlight-c1">//
</span><span class="highlight-c1"></span>        <span class="highlight-c1">//Fu zi1 = new Zi();
</span><span class="highlight-c1"></span>        <span class="highlight-c1">//System.out.println(zi1.num);
</span><span class="highlight-c1"></span>    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

</code></pre>
</li>
<li>
<p>内部类分为成员内部类和局部内部类，定义格式如下：</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Test</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Inner</span><span class="highlight-o">{</span>

    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<p>注意：内用外，随意访问，外用内，需要内部类对象。</p>
</li>
<li>
<p>内部类的编译后 class 文件命名为外部类名$内部类名.class，例如<code>Test$Inner.class</code>。</p>
</li>
<li>
<p>内部类创建对象方法为 <code>Test.Inner inner = new Test().new Inner();</code></p>
</li>
<li>
<p>如果出现了变量名重复，内部类访问外部类变量使用 <code>外部类名.this.变量名</code></p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Outer</span> <span class="highlight-o">{</span>
    <span class="highlight-kt">int</span> <span class="highlight-n">num</span> <span class="highlight-o">=</span> <span class="highlight-n">10</span><span class="highlight-o">;</span> <span class="highlight-c1">//外部类成员变量
</span><span class="highlight-c1"></span>    <span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Inner</span><span class="highlight-o">{</span>
        <span class="highlight-kt">int</span> <span class="highlight-n">num</span> <span class="highlight-o">=</span> <span class="highlight-n">20</span><span class="highlight-o">;</span> <span class="highlight-c1">//内部类成员变量
</span><span class="highlight-c1"></span>        <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">method</span><span class="highlight-o">(){</span>
            <span class="highlight-kt">int</span> <span class="highlight-n">num</span> <span class="highlight-o">=</span> <span class="highlight-n">30</span><span class="highlight-o">;</span><span class="highlight-c1">//布局变量
</span><span class="highlight-c1"></span>            <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">num</span><span class="highlight-o">);</span><span class="highlight-c1">//30
</span><span class="highlight-c1"></span>            <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">num</span><span class="highlight-o">);</span><span class="highlight-c1">//20
</span><span class="highlight-c1"></span>            <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">Outer</span><span class="highlight-o">.</span><span class="highlight-na">this</span><span class="highlight-o">.</span><span class="highlight-na">num</span><span class="highlight-o">);</span><span class="highlight-c1">//10
</span><span class="highlight-c1"></span>        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p>局部内部类：定义在一个方法内部，只有此方法可以使用本类。</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Outer</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">methodOuter</span><span class="highlight-o">(){</span>
        <span class="highlight-kd">class</span> <span class="highlight-nc">Inner</span><span class="highlight-o">{</span>
            <span class="highlight-kt">int</span> <span class="highlight-n">num</span><span class="highlight-o">=</span><span class="highlight-n">10</span><span class="highlight-o">;</span>
            <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">methodInner</span><span class="highlight-o">(){</span>
                <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">num</span><span class="highlight-o">);</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}</span>

        <span class="highlight-n">Inner</span> <span class="highlight-n">inner</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Inner</span><span class="highlight-o">();</span>
        <span class="highlight-n">inner</span><span class="highlight-o">.</span><span class="highlight-na">methodInner</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p>局部内部类编译后的 class 文件为 <code>外部类名$1内部类名.class</code>。</p>
</li>
<li>
<p>匿名内部类编译后的文件名为类名 $1.class。</p>
</li>
<li>
<p>定义一个类的时候，权限修饰符规则：</p>
<ol>
<li>外部类：public/(default)</li>
<li>成员内部类：public/protected/(default)/private</li>
<li>局部内部类：什么都不写（局部的东西只能在此方法使用，没有权限修饰符）</li>
</ol>
</li>
<li>
<p>为什么外部类不能使用 protected 修饰？<br>
protected 只比(default)多了一个不同包的子类访问权限，当外部类使用 protected 修饰的时候，因为不同包，又非子类，所以无法导入此类，protected 修饰的外部类也就没有了子类，就不需要使用 protected 了，所以外部类只能使用 public 和(default)修饰。</p>
</li>
<li>
<p>内部类使用 private 修饰时，只有此内部类所在的外部类可以使用。</p>
</li>
<li>
<p>留疑：protected 修饰内部类时，在不同包的子类中怎么访问内部类以及内部类的继承。</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Fu</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">protected</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Inner</span> <span class="highlight-o">{</span>
        <span class="highlight-kd">public</span> <span class="highlight-kt">int</span> <span class="highlight-n">num</span> <span class="highlight-o">=</span> <span class="highlight-n">10</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package2</span><span class="highlight-o">;</span>

<span class="highlight-kn">import</span> <span class="highlight-nn">package1.Fu</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Zi</span> <span class="highlight-kd">extends</span> <span class="highlight-n">Fu</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">//new Zi().new Inner();此行报错，无法访问
</span><span class="highlight-c1"></span>    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<p>答：new 是调用内部类的构造函数，因为内部类为 protected，所以内部类的构造函数为 protected 修饰，当内部内的构造函数为 protected 修饰的时候，这个构造函数只能由这个内部类的子类调用，Zi 类是 Fu 的子类，并非内部类的子类，所以无法调用内部类的构造函数。</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Fu</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">protected</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Inner</span> <span class="highlight-o">{</span>
        <span class="highlight-kd">public</span> <span class="highlight-kt">int</span> <span class="highlight-n">num</span> <span class="highlight-o">=</span> <span class="highlight-n">10</span><span class="highlight-o">;</span>

        <span class="highlight-kd">public</span> <span class="highlight-nf">Inner</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package2</span><span class="highlight-o">;</span>

<span class="highlight-kn">import</span> <span class="highlight-nn">package1.Fu</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Zi</span> <span class="highlight-kd">extends</span> <span class="highlight-n">Fu</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">new</span> <span class="highlight-n">Zi</span><span class="highlight-o">().</span><span class="highlight-na">new</span> <span class="highlight-n">Inner</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<p>此时，只需要将内部类的构造函数的权限改为 public，即可在外包中调用此构造函数。此时外包中 Fu 的子类既可以访问 Inner 类(因为 protected)，也可以访问内部类的构造方法(由于 public 修饰)，所以可以成功构建内部类对象。</p>
</li>
<li>
<p>局部内部类访问方法的局部变量时，这个局部变量必须是【有效 final 的】。<br>
备注：从 JDK8+ 开始，只要局部变量事实不变，那么 final 关键字可以省略。<br>
原因：</p>
<ol>
<li>new 出来的对象在堆内存当中。</li>
<li>局部变量是跟着方法走的，在栈内存当中。</li>
<li>方法运行结束之后，立刻出栈，局部变量就会立刻消失。</li>
<li>但是 new 出来的对象会在堆当中持续存在，直到垃圾回收消失。</li>
</ol>
</li>
<li>
<p>匿名内部类定义格式</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Main</span> <span class="highlight-o">{</span>
    <span class="highlight-n">MyInterface</span> <span class="highlight-n">t</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">MyInterface</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-nd">@Override</span>
        <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">method</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
            <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"匿名内部类实现的方法"</span><span class="highlight-o">);</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">};</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
</ul>
<h3 id="12--Object-类-常用-API-">12.【Object 类、常用 API】</h3>
<ul>
<li>
<p>重写 equals 时的写法</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-nd">@Override</span>
<span class="highlight-kd">public</span> <span class="highlight-kt">boolean</span> <span class="highlight-nf">equals</span><span class="highlight-o">(</span><span class="highlight-n">Object</span> <span class="highlight-n">o</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
    <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-k">this</span> <span class="highlight-o">==</span> <span class="highlight-n">o</span><span class="highlight-o">)</span> <span class="highlight-k">return</span> <span class="highlight-kc">true</span><span class="highlight-o">;</span>
    <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">o</span> <span class="highlight-o">==</span> <span class="highlight-kc">null</span> <span class="highlight-o">||</span> <span class="highlight-n">getClass</span><span class="highlight-o">()</span> <span class="highlight-o">!=</span> <span class="highlight-n">o</span><span class="highlight-o">.</span><span class="highlight-na">getClass</span><span class="highlight-o">())</span> <span class="highlight-k">return</span> <span class="highlight-kc">false</span><span class="highlight-o">;</span>
    <span class="highlight-n">Student</span> <span class="highlight-n">student</span> <span class="highlight-o">=</span> <span class="highlight-o">(</span><span class="highlight-n">Student</span><span class="highlight-o">)</span> <span class="highlight-n">o</span><span class="highlight-o">;</span>
    <span class="highlight-c1">//age为int,name为string
</span><span class="highlight-c1"></span>    <span class="highlight-k">return</span> <span class="highlight-n">age</span> <span class="highlight-o">==</span> <span class="highlight-n">student</span><span class="highlight-o">.</span><span class="highlight-na">age</span> <span class="highlight-o">&amp;&amp;</span>
            <span class="highlight-n">Objects</span><span class="highlight-o">.</span><span class="highlight-na">equals</span><span class="highlight-o">(</span><span class="highlight-n">name</span><span class="highlight-o">,</span> <span class="highlight-n">student</span><span class="highlight-o">.</span><span class="highlight-na">name</span><span class="highlight-o">);</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p><code>Objects.equals(Object a, Object b)</code> 源码</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">boolean</span> <span class="highlight-nf">equals</span><span class="highlight-o">(</span><span class="highlight-n">Object</span> <span class="highlight-n">a</span><span class="highlight-o">,</span> <span class="highlight-n">Object</span> <span class="highlight-n">b</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
    <span class="highlight-k">return</span> <span class="highlight-o">(</span><span class="highlight-n">a</span> <span class="highlight-o">==</span> <span class="highlight-n">b</span><span class="highlight-o">)</span> <span class="highlight-o">||</span> <span class="highlight-o">(</span><span class="highlight-n">a</span> <span class="highlight-o">!=</span> <span class="highlight-kc">null</span> <span class="highlight-o">&amp;&amp;</span> <span class="highlight-n">a</span><span class="highlight-o">.</span><span class="highlight-na">equals</span><span class="highlight-o">(</span><span class="highlight-n">b</span><span class="highlight-o">));</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p><code>java.lang.Object</code>:</p>
<ul>
<li><code>Object clone()</code> 创建并返回此对象的一个副本。</li>
</ul>
</li>
<li>
<p>中国会把时间增加 8h，即为到 08:00:00 的时间。</p>
</li>
<li>
<p><code>Date();</code>//获取当前系统的时间和日期，如 <code>Sat Jan 18 11:49:45 CST 2020</code></p>
</li>
<li>
<p><code>Date(long date);</code>//将毫秒转为对应日期</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.Date</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Main</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">Date</span> <span class="highlight-n">date</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Date</span><span class="highlight-o">(</span><span class="highlight-n">0L</span><span class="highlight-o">);</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">date</span><span class="highlight-o">);</span><span class="highlight-c1">//Thu Jan 01 08:00:00 CST 1970
</span><span class="highlight-c1"></span>    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p><code>long getTime();</code>//将 Date 对象转换为毫秒</p>
</li>
<li>
<p><code>DateFormat位于java.text.DateFormat</code> 对日期进行格式化，或者将文本解析为日期。</p>
</li>
<li>
<p><code>DateFormat</code> 成员方法：</p>
<ul>
<li><code>String format(Date date)</code> 按照指定的模式，把 Date 日期，格式化为符合模式的字符串。</li>
<li><code>Date parse(String source)</code> 把符合模式的字符串，解析为 Date 日期。</li>
</ul>
</li>
<li>
<p><code>DateFormat</code> 为抽象类，使用子类 <code>SimpleDateFormat</code>。</p>
</li>
<li>
<p><code>SimpleDateFormat(String pattern);</code> 构造函数，参数为给定 的模式，y-年，M-月，d-日，H-时，m-分，s-秒。</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kn">import</span> <span class="highlight-nn">java.text.SimpleDateFormat</span><span class="highlight-o">;</span>
<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.Date</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Main</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">SimpleDateFormat</span> <span class="highlight-n">sdf</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">SimpleDateFormat</span><span class="highlight-o">(</span><span class="highlight-s">"yyyy年MM月dd日 HH时:mm分:ss秒"</span><span class="highlight-o">);</span>
        <span class="highlight-n">Date</span> <span class="highlight-n">date</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Date</span><span class="highlight-o">();</span>
        <span class="highlight-n">String</span> <span class="highlight-n">d</span> <span class="highlight-o">=</span> <span class="highlight-n">sdf</span><span class="highlight-o">.</span><span class="highlight-na">format</span><span class="highlight-o">(</span><span class="highlight-n">date</span><span class="highlight-o">);</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">date</span><span class="highlight-o">);</span><span class="highlight-c1">//Sun Jan 26 14:17:30 CST 2020
</span><span class="highlight-c1"></span>        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">d</span><span class="highlight-o">);</span><span class="highlight-c1">//2020年01月26日 14时:17分:30秒
</span><span class="highlight-c1"></span>    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p>parse 方法</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kn">import</span> <span class="highlight-nn">java.text.ParseException</span><span class="highlight-o">;</span>
<span class="highlight-kn">import</span> <span class="highlight-nn">java.text.SimpleDateFormat</span><span class="highlight-o">;</span>
<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.Date</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Main</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-kd">throws</span> <span class="highlight-n">ParseException</span> <span class="highlight-o">{</span>
        <span class="highlight-n">SimpleDateFormat</span> <span class="highlight-n">sdf</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">SimpleDateFormat</span><span class="highlight-o">(</span><span class="highlight-s">"yyyy年MM月dd日 HH时:mm分:ss秒"</span><span class="highlight-o">);</span>
        <span class="highlight-n">Date</span> <span class="highlight-n">date</span> <span class="highlight-o">=</span> <span class="highlight-n">sdf</span><span class="highlight-o">.</span><span class="highlight-na">parse</span><span class="highlight-o">(</span><span class="highlight-s">"2088年08月08日 15时:51分:54秒"</span><span class="highlight-o">);</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">date</span><span class="highlight-o">);</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<p>会抛出 <code>ParseException</code> 异常。</p>
</li>
<li>
<p><code>java.util.Calendar</code> 日历类，提供了很多操作日历字段的方法(YEAR,MONTH,DAY_OF_MONTH,HOUR)。</p>
</li>
<li>
<p><code>Calendar</code> 类为抽象类，无法创建对象，使用静态方法 <code>static Calendar getInstance()</code> 返回一个子类对象。</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.Calendar</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Main</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">Calendar</span> <span class="highlight-n">calendar</span> <span class="highlight-o">=</span> <span class="highlight-n">Calendar</span><span class="highlight-o">.</span><span class="highlight-na">getInstance</span><span class="highlight-o">();</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">calendar</span><span class="highlight-o">);</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
<span class="highlight-c1">//java.util.GregorianCalendar[time=1580021525270,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id="Asia/Shanghai",offset=28800000,dstSavings=0,useDaylight=false,transitions=19,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2020,MONTH=0,WEEK_OF_YEAR=5,WEEK_OF_MONTH=5,DAY_OF_MONTH=26,DAY_OF_YEAR=26,DAY_OF_WEEK=1,DAY_OF_WEEK_IN_MONTH=4,AM_PM=1,HOUR=2,HOUR_OF_DAY=14,MINUTE=52,SECOND=5,MILLISECOND=270,ZONE_OFFSET=28800000,DST_OFFSET=0]
</span></code></pre>
</li>
<li>
<p><code>Calendar</code> 类常用的成员方法</p>
<ul>
<li><code>public int get(int field);</code> 返回给定日历字段的值。</li>
<li><code>public void set(int field,int value);</code> 给指定的日历字段设置为指定的值。</li>
<li><code>public final void set(int year, int month, int date);</code> 给日历设置年月日。</li>
<li><code>public abstract void add(int field,int amount);</code> 给指定字段添加或者减去指定的时间量。</li>
<li><code>public Date getTime();</code> 返回一个 Calendar 时间值的 Date 对象。</li>
</ul>
</li>
<li>
<p><code>Calendar</code> 成员方法中的 <code>int field</code>：日历类的字段，可以使用 Calendar 类的静态成员变量获取。例如</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kd">final</span> <span class="highlight-kt">int</span> <span class="highlight-n">YEAR</span> <span class="highlight-o">=</span> <span class="highlight-n">1</span><span class="highlight-o">;</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kd">final</span> <span class="highlight-kt">int</span> <span class="highlight-n">MONTH</span> <span class="highlight-o">=</span> <span class="highlight-n">2</span><span class="highlight-o">;</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kd">final</span> <span class="highlight-kt">int</span> <span class="highlight-n">DATE</span> <span class="highlight-o">=</span> <span class="highlight-n">5</span><span class="highlight-o">;</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kd">final</span> <span class="highlight-kt">int</span> <span class="highlight-n">DAY_OF_MONTH</span> <span class="highlight-o">=</span> <span class="highlight-n">5</span><span class="highlight-o">;</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kd">final</span> <span class="highlight-kt">int</span> <span class="highlight-n">HOUR</span> <span class="highlight-o">=</span> <span class="highlight-n">10</span><span class="highlight-o">;</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kd">final</span> <span class="highlight-kt">int</span> <span class="highlight-n">MINUTE</span> <span class="highlight-o">=</span> <span class="highlight-n">12</span><span class="highlight-o">;</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kd">final</span> <span class="highlight-kt">int</span> <span class="highlight-n">SECOND</span> <span class="highlight-o">=</span> <span class="highlight-n">13</span><span class="highlight-o">;</span>
</code></pre>
</li>
<li>
<p>西方的月份为 0-11。</p>
</li>
<li>
<p><code>java.lang.System</code> 中常用静态方法：</p>
<ul>
<li><code>public static long currentTimeMillis();</code> 返回以毫秒为单位的当前时间。</li>
<li><code>public static void arraycopy(Object src,int srcPos,Object dest,int destPos,int length);src</code> 为数组源，<code>srcPos</code> 源数组中起始位置，<code>dest</code> 目标数组，<code>destPos</code> 目标数组中起始位置，<code>length</code> 长度，将数组中指定数据拷贝到另一个数组中。</li>
</ul>
</li>
<li>
<p>String 是被 final 修饰的数组，<code>StringBuilder</code> 没有被 final 修饰，可以改变长短，在内存中始终是一个数组，会自动扩容。</p>
</li>
<li>
<p><code>StringBuilder</code> 扩容：每次增加一倍并 +2，若还是不够，直接扩大到所需长度。</p>
</li>
<li>
<p><code>StringBuilder</code> 构造方法：</p>
<ul>
<li><code>StringBuilder();</code> 构造一个不带任何字符的字符串生成器，初始容量为 16 个字符。</li>
<li><code>StringBuilder(String str);</code> 构造一个字符串生成器，并初始化为指定的字符串内容。</li>
</ul>
</li>
<li>
<p><code>StringBuilder</code> 常用的方法：</p>
<ul>
<li><code>public StringBuilder append():</code> 添加任意类型数据的字符串形式，并返回当前对象自身。</li>
<li><code>public String toString();</code> 将当前 <code>StringBuilder</code> 对象转换为 String 对象。</li>
<li><code>public StringBuilder delete(int start, int end);</code> 返回值为此对象，没必要接收。</li>
<li><code>public StringBuilder deleteCharAt(int index);</code> 返回值为此对象，没必要接收。</li>
<li><code>public StringBuilder insert(int offset, Object obj);</code> 将参数的字符串表示形式插入此字符序列中。
<ul>
<li>第二个参数可以是任意类型，也可以为数组。</li>
<li>第二个参数为数组的话，可以增加第三个和第四个参数为数组的开始结束位置。</li>
</ul>
</li>
<li><code>public void setCharAt(int index, char ch);</code></li>
<li><code>public StringBuilder reverse();</code> 反转，字符串可以不接收。</li>
<li><code>StringBuilder replace(int start, int end, String str);</code> 使用给定 String 中的字符替换此序列的子字符串中的字符。</li>
</ul>
</li>
<li>
<p><code>String</code> 和 <code>StringBuilder</code> 的相互转换：</p>
<ul>
<li><code>String</code>→<code>StringBuilder</code>：使用 <code>StringBuilder</code> 的构造方法 <code>StringBuilder(String);</code></li>
<li><code>StringBuilder</code>→<code>String</code>：使用 <code>StringBuilder</code> 的 <code>toString()</code> 方法。</li>
</ul>
</li>
<li>
<p><code>Integer</code> 和 <code>int</code> 相互转换：</p>
<ul>
<li>装箱（基本数据类型 →包装类）
<ul>
<li>构造方法：
<ul>
<li><code>Integer(int value);</code></li>
<li><code>Integer(String s);</code> 不是基本类型的字符串会抛异常</li>
</ul>
</li>
<li>静态方法：
<ul>
<li><code>static Integer valueOf(int i);</code></li>
<li><code>static Integer valueOf(String s);</code></li>
</ul>
</li>
</ul>
</li>
<li>拆箱（包装类 →基本数据类型）
<ul>
<li>成员方法 <code>int intValue();</code> 以 int 类型返回该 Integer 的值。</li>
</ul>
</li>
</ul>
</li>
<li>
<p>自动装箱与自动拆箱</p>
<pre><code class="language-java highlight-chroma">
<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.ArrayList</span><span class="highlight-o">;</span>

<span class="highlight-cm">/*
</span><span class="highlight-cm">    自动装箱与自动拆箱:基本类型的数据和包装类之间可以自动的相互转换
</span><span class="highlight-cm">    JDK1.5之后出现的新特性
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Demo02Ineger</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-cm">/*
</span><span class="highlight-cm">            自动装箱:直接把int类型的整数赋值包装类
</span><span class="highlight-cm">            Integer in = 1; 就相当于 Integer in = new Integer(1);
</span><span class="highlight-cm">         */</span>
        <span class="highlight-n">Integer</span> <span class="highlight-n">in</span> <span class="highlight-o">=</span> <span class="highlight-n">1</span><span class="highlight-o">;</span>

        <span class="highlight-cm">/*
</span><span class="highlight-cm">            自动拆箱:in是包装类,无法直接参与运算,可以自动转换为基本数据类型,在进行计算
</span><span class="highlight-cm">            in+2;就相当于 in.intValue() + 2 = 3
</span><span class="highlight-cm">            in = in.intVale() + 2 = 3 又是一个自动装箱
</span><span class="highlight-cm">         */</span>
        <span class="highlight-n">in</span> <span class="highlight-o">=</span> <span class="highlight-n">in</span> <span class="highlight-o">+</span> <span class="highlight-n">2</span><span class="highlight-o">;</span>

        <span class="highlight-n">ArrayList</span><span class="highlight-o">&lt;</span><span class="highlight-n">Integer</span><span class="highlight-o">&gt;</span> <span class="highlight-n">list</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">ArrayList</span><span class="highlight-o">&lt;&gt;();</span>
        <span class="highlight-cm">/*
</span><span class="highlight-cm">            ArrayList集合无法直接存储整数,可以存储Integer包装类
</span><span class="highlight-cm">         */</span>
        <span class="highlight-n">list</span><span class="highlight-o">.</span><span class="highlight-na">add</span><span class="highlight-o">(</span><span class="highlight-n">1</span><span class="highlight-o">);</span> <span class="highlight-c1">//--&gt;自动装箱 list.add(new Integer(1));
</span><span class="highlight-c1"></span>
        <span class="highlight-kt">int</span> <span class="highlight-n">a</span> <span class="highlight-o">=</span> <span class="highlight-n">list</span><span class="highlight-o">.</span><span class="highlight-na">get</span><span class="highlight-o">(</span><span class="highlight-n">0</span><span class="highlight-o">);</span> <span class="highlight-c1">//--&gt;自动拆箱  list.get(0).intValue();
</span><span class="highlight-c1"></span>    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p>基本类型与字符串类型之间的相互转换：</p>
<ul>
<li>基本类型 →字符串(String)
<ol>
<li>基本类型的值 +""  最简单的方法(工作中常用)</li>
<li>包装类的静态方法 <code>toString(参数)</code><br>
<code>static String toString(int i)</code> 返回一个表示指定整数的 String 对象。</li>
<li>String 类的静态方法 <code>valueOf(参数)</code><br>
<code>static String valueOf(int i) </code> 返回 <code>int </code> 参数的字符串表示形式。</li>
</ol>
</li>
<li>字符串(String)→基本类型
<ul>
<li>使用包装类的静态方法 <code>parseXXX("字符串");</code></li>
<li>使用包装类的 <code>valueOf(String s);</code></li>
<li>Integer 类： <code>static int parseInt(String s)</code></li>
<li>Double 类： <code>static double parseDouble(String s)</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>Integer</code> 中有关进制的方法：</p>
<ul>
<li><code>static Integer valueOf(String s, int radix) </code></li>
<li><code>static String toBinaryString(int i) </code></li>
<li><code>static String toOctalString(int i) </code></li>
<li><code>static String toHexString(int i) </code></li>
</ul>
</li>
</ul>
<h3 id="13--Collection-泛型-">13.【Collection、泛型】</h3>
<ul>
<li>
<p>集合<img src="https://raw.githubusercontent.com/Rainsheep/pic-bed/master/img/2020-01-27+10:32:43+p_20200127103238.png" alt=""><img src="https://raw.githubusercontent.com/Rainsheep/pic-bed/master/img/2020-02-04+13:10:55+20190227211326757.png" alt=""></p>
</li>
<li>
<p>Collection 接口中方法：</p>
<ul>
<li><code>public boolean add(E e)</code>：  把给定的对象添加到当前集合中 。</li>
<li><code>public void clear()</code> :清空集合中所有的元素。</li>
<li><code>public boolean remove(E e)</code>: 把给定的对象在当前集合中删除，只删除第一个。</li>
<li><code>public boolean contains(E e)</code>: 判断当前集合中是否包含给定的对象。</li>
<li><code> public boolean isEmpty()</code>: 判断当前集合是否为空。</li>
<li><code>public int size()</code>: 返回集合中元素的个数。</li>
<li><code>public Object[] toArray()</code>: 把集合中的元素，存储到数组中。</li>
<li><code>public T[] toArray(T[] a)</code>:返回数组，返回数组的运行时类型与指定数组的运行时类型相同，如果传入的数组长度能放下，就放到传入的数组中，否则返回一个新数组。</li>
</ul>
<blockquote>
<p>不带参数的 <code>toArray()</code> 方法返回值为 <code>Object[]</code> 类型，无法强转成别的类型，运行会报错，这时候使用第二个方法返回指定类型，例如 <code>Integer[] nums = list.toArray(new Integer[list.size()]);</code><br>
为什么不能使用方法引用 <code>toArray(Integer[]::new)</code> ， 因为参数是一个数组，而不是一个函数式接口，不能使用方法引用。</p>
</blockquote>
</li>
<li>
<p><code>java.util.Iterator</code> 接口：迭代器(对集合进行遍历)：</p>
<ul>
<li><code>boolean hasNext()</code> 如果仍有元素可以迭代，则返回 true。</li>
<li><code>E next()</code> 返回迭代的下一个元素。</li>
</ul>
</li>
<li>
<p>Iterator 迭代器，是一个接口，实现类的获取方式为使用<strong>Collection</strong>接口的 <code>Iterator&lt;E&gt; iterator()</code> 方法。</p>
</li>
<li>
<p>增强 for 循环，底层使用的是迭代器，JDK1.5 以后的新特性。<br>
<code>Collection&lt;E&gt; extends Iterable&lt;E&gt;</code>:所有的单列集合都可以使用增强 for,<br>
<code>public interface Iterable&lt;T&gt;</code> 实现这个接口允许对象成为 <code>foreach</code> 语句的目标。</p>
</li>
<li>
<p>增强 for 循环格式：</p>
<pre><code class="highlight-chroma">for(集合/数组的数据类型 变量名:集合名/数组名){
    sout(变量名);
}
</code></pre>
</li>
<li>
<p>泛型中：（约定俗称）</p>
<ul>
<li>E - Element (在集合中使用，因为集合中存放的是元素)</li>
<li>T - Type（Java 类）</li>
<li>K - Key（键）</li>
<li>V - Value（值）</li>
<li>N - Number（数值类型）</li>
<li>？ - 表示不确定的 Java 类型</li>
</ul>
</li>
<li>
<p>创建对象的时候，会把数据类型作为参数传递，赋值为泛型。</p>
</li>
<li>
<p>使用泛型的时候，泛型只是一个类型，无法使用泛型中的方法，变量等，若对泛型进行了限定，例如 <code>&lt;T extends Comparable&lt;T&gt;&gt;</code>，则可以使用 <code>compareTo(T e)</code> 方法。</p>
</li>
<li>
<p><code>ArrayList list = new ArrayList();</code> 默认为 Object 类型。</p>
</li>
<li>
<p>JDK1.7 之前，创建集合前后泛型都需要写上。</p>
</li>
<li>
<p>泛型的定义</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">GenericClass</span><span class="highlight-o">&lt;</span><span class="highlight-n">E</span><span class="highlight-o">&gt;</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">E</span> <span class="highlight-n">name</span><span class="highlight-o">;</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p>含有泛型的方法</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">GenericClass</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-o">&lt;</span><span class="highlight-n">M</span><span class="highlight-o">&gt;</span> <span class="highlight-kt">void</span> <span class="highlight-nf">method1</span><span class="highlight-o">(</span><span class="highlight-n">M</span> <span class="highlight-n">m</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
    <span class="highlight-o">}</span>

    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-o">&lt;</span><span class="highlight-n">S</span><span class="highlight-o">&gt;</span> <span class="highlight-kt">void</span> <span class="highlight-nf">method2</span><span class="highlight-o">(</span><span class="highlight-n">S</span> <span class="highlight-n">m</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p>含有泛型的接口，第一种使用方式：定义接口的实现类，实现接口，指定接口的泛型，例如</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">interface</span> <span class="highlight-nc">Iterator</span><span class="highlight-o">&lt;</span><span class="highlight-n">E</span><span class="highlight-o">&gt;</span> <span class="highlight-o">{</span>
    <span class="highlight-n">E</span> <span class="highlight-nf">next</span><span class="highlight-o">();</span>
<span class="highlight-o">}</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">final</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Scanner</span> <span class="highlight-kd">implements</span> <span class="highlight-n">Iterator</span><span class="highlight-o">&lt;</span><span class="highlight-n">String</span><span class="highlight-o">&gt;</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-n">String</span> <span class="highlight-nf">next</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p>含有泛型的接口第二种使用方式：接口使用什么泛型，实现类就使用什么泛型，类跟着接口走</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">ArrayList</span><span class="highlight-o">&lt;</span><span class="highlight-n">E</span><span class="highlight-o">&gt;</span> <span class="highlight-kd">implements</span> <span class="highlight-n">List</span><span class="highlight-o">&lt;</span><span class="highlight-n">E</span><span class="highlight-o">&gt;</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">boolean</span> <span class="highlight-nf">add</span><span class="highlight-o">(</span><span class="highlight-n">E</span> <span class="highlight-n">e</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
    <span class="highlight-o">}</span>

    <span class="highlight-kd">public</span> <span class="highlight-n">E</span> <span class="highlight-nf">get</span><span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">index</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p>泛型没有继承概念的，此处不能使用 Object，Object 代表确定的类型，不能传入别的类型，此处也不能用 E(需要在方法声明泛型)，list 为对象，需要确定 泛型类型，所以使用？，可以接受任何泛型。</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.ArrayList</span><span class="highlight-o">;</span>
<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.Iterator</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Demo05Generic</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">ArrayList</span><span class="highlight-o">&lt;</span><span class="highlight-n">Integer</span><span class="highlight-o">&gt;</span> <span class="highlight-n">list01</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">ArrayList</span><span class="highlight-o">&lt;&gt;();</span>
        <span class="highlight-n">list01</span><span class="highlight-o">.</span><span class="highlight-na">add</span><span class="highlight-o">(</span><span class="highlight-n">1</span><span class="highlight-o">);</span>
        <span class="highlight-n">list01</span><span class="highlight-o">.</span><span class="highlight-na">add</span><span class="highlight-o">(</span><span class="highlight-n">2</span><span class="highlight-o">);</span>

        <span class="highlight-n">ArrayList</span><span class="highlight-o">&lt;</span><span class="highlight-n">String</span><span class="highlight-o">&gt;</span> <span class="highlight-n">list02</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">ArrayList</span><span class="highlight-o">&lt;&gt;();</span>
        <span class="highlight-n">list02</span><span class="highlight-o">.</span><span class="highlight-na">add</span><span class="highlight-o">(</span><span class="highlight-s">"a"</span><span class="highlight-o">);</span>
        <span class="highlight-n">list02</span><span class="highlight-o">.</span><span class="highlight-na">add</span><span class="highlight-o">(</span><span class="highlight-s">"b"</span><span class="highlight-o">);</span>

        <span class="highlight-n">printArray</span><span class="highlight-o">(</span><span class="highlight-n">list01</span><span class="highlight-o">);</span>
        <span class="highlight-n">printArray</span><span class="highlight-o">(</span><span class="highlight-n">list02</span><span class="highlight-o">);</span>

        <span class="highlight-c1">//ArrayList&lt;?&gt; list03 = new ArrayList&lt;?&gt;();
</span><span class="highlight-c1"></span>    <span class="highlight-o">}</span>

    <span class="highlight-cm">/*
</span><span class="highlight-cm">        定义一个方法,能遍历所有类型的ArrayList集合
</span><span class="highlight-cm">        这时候我们不知道ArrayList集合使用什么数据类型,可以泛型的通配符?来接收数据类型
</span><span class="highlight-cm">        注意:
</span><span class="highlight-cm">            泛型没有继承概念的
</span><span class="highlight-cm">     */</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">printArray</span><span class="highlight-o">(</span><span class="highlight-n">ArrayList</span><span class="highlight-o">&lt;?&gt;</span> <span class="highlight-n">list</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">//使用迭代器遍历集合
</span><span class="highlight-c1"></span>        <span class="highlight-n">Iterator</span><span class="highlight-o">&lt;?&gt;</span> <span class="highlight-n">it</span> <span class="highlight-o">=</span> <span class="highlight-n">list</span><span class="highlight-o">.</span><span class="highlight-na">iterator</span><span class="highlight-o">();</span>
        <span class="highlight-k">while</span> <span class="highlight-o">(</span><span class="highlight-n">it</span><span class="highlight-o">.</span><span class="highlight-na">hasNext</span><span class="highlight-o">())</span> <span class="highlight-o">{</span>
            <span class="highlight-c1">//it.next()方法,取出的元素是Object,可以接收任意的数据类型
</span><span class="highlight-c1"></span>            <span class="highlight-n">Object</span> <span class="highlight-n">o</span> <span class="highlight-o">=</span> <span class="highlight-n">it</span><span class="highlight-o">.</span><span class="highlight-na">next</span><span class="highlight-o">();</span>
            <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">o</span><span class="highlight-o">);</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p>泛型的限定</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.ArrayList</span><span class="highlight-o">;</span>
<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.Collection</span><span class="highlight-o">;</span>

<span class="highlight-cm">/*
</span><span class="highlight-cm">    泛型的上限限定: ? extends E  代表使用的泛型只能是E类型的子类/本身
</span><span class="highlight-cm">    泛型的下限限定: ? super E    代表使用的泛型只能是E类型的父类/本身
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Demo05Generic</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">Collection</span><span class="highlight-o">&lt;</span><span class="highlight-n">Integer</span><span class="highlight-o">&gt;</span> <span class="highlight-n">list1</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">ArrayList</span><span class="highlight-o">&lt;</span><span class="highlight-n">Integer</span><span class="highlight-o">&gt;();</span>
        <span class="highlight-n">Collection</span><span class="highlight-o">&lt;</span><span class="highlight-n">String</span><span class="highlight-o">&gt;</span> <span class="highlight-n">list2</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">ArrayList</span><span class="highlight-o">&lt;</span><span class="highlight-n">String</span><span class="highlight-o">&gt;();</span>
        <span class="highlight-n">Collection</span><span class="highlight-o">&lt;</span><span class="highlight-n">Number</span><span class="highlight-o">&gt;</span> <span class="highlight-n">list3</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">ArrayList</span><span class="highlight-o">&lt;</span><span class="highlight-n">Number</span><span class="highlight-o">&gt;();</span>
        <span class="highlight-n">Collection</span><span class="highlight-o">&lt;</span><span class="highlight-n">Object</span><span class="highlight-o">&gt;</span> <span class="highlight-n">list4</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">ArrayList</span><span class="highlight-o">&lt;</span><span class="highlight-n">Object</span><span class="highlight-o">&gt;();</span>

        <span class="highlight-n">getElement1</span><span class="highlight-o">(</span><span class="highlight-n">list1</span><span class="highlight-o">);</span>
        <span class="highlight-c1">//getElement1(list2);//报错
</span><span class="highlight-c1"></span>        <span class="highlight-n">getElement1</span><span class="highlight-o">(</span><span class="highlight-n">list3</span><span class="highlight-o">);</span>
        <span class="highlight-c1">//getElement1(list4);//报错
</span><span class="highlight-c1"></span>
        <span class="highlight-c1">//getElement2(list1);//报错
</span><span class="highlight-c1"></span>        <span class="highlight-c1">//getElement2(list2);//报错
</span><span class="highlight-c1"></span>        <span class="highlight-n">getElement2</span><span class="highlight-o">(</span><span class="highlight-n">list3</span><span class="highlight-o">);</span>
        <span class="highlight-n">getElement2</span><span class="highlight-o">(</span><span class="highlight-n">list4</span><span class="highlight-o">);</span>

        <span class="highlight-cm">/*
</span><span class="highlight-cm">            类与类之间的继承关系
</span><span class="highlight-cm">            Integer extends Number extends Object
</span><span class="highlight-cm">            String extends Object
</span><span class="highlight-cm">         */</span>

    <span class="highlight-o">}</span>

    <span class="highlight-c1">// 泛型的上限：此时的泛型?，必须是Number类型或者Number类型的子类
</span><span class="highlight-c1"></span>    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">getElement1</span><span class="highlight-o">(</span><span class="highlight-n">Collection</span><span class="highlight-o">&lt;?</span> <span class="highlight-kd">extends</span> <span class="highlight-n">Number</span><span class="highlight-o">&gt;</span> <span class="highlight-n">coll</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
    <span class="highlight-o">}</span>

    <span class="highlight-c1">// 泛型的下限：此时的泛型?，必须是Number类型或者Number类型的父类
</span><span class="highlight-c1"></span>    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">getElement2</span><span class="highlight-o">(</span><span class="highlight-n">Collection</span><span class="highlight-o">&lt;?</span> <span class="highlight-kd">super</span> <span class="highlight-n">Number</span><span class="highlight-o">&gt;</span> <span class="highlight-n">coll</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p>在泛型的限定中，<code>&lt;? extends E&gt;</code> 中，？不一定必须是 E 的子类，也可以实现 E 接口，与多态一样。</p>
</li>
<li>
<p>对泛型进行多个限定的时候可以使用 <code>&amp;</code>  符号。比如，<code>&lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt;</code> ，需要注意的是，当限定中既有接口又有类的时候，需要把类放置在 <code>&amp;</code> 的前面，并且只能限定一个类(单继承)，可以限定多个接口。</p>
</li>
</ul>
<h3 id="14--List-Set-">14.【List、Set】</h3>
<ul>
<li>
<p><code>Collections.shuffle(List&lt;?&gt; list);</code> 使用随机源打乱列表顺序。</p>
</li>
<li>
<p>平衡树，即平衡二叉树，它是一棵空树或它的左右两个子树的高度差的绝对值不超过 1，并且左右两个子树都是一棵平衡二叉树。</p>
</li>
<li>
<p>红黑树从根节点到叶子节点的最长路径不大于最短路径的 2 倍。</p>
</li>
<li>
<p>红黑树的约束：</p>
<ol>
<li>节点可以是红色或者黑色的。</li>
<li>根节点是黑色的。</li>
<li>叶子节点(空节点)是黑色的。</li>
<li>每个红色的结点的子节点都是黑色的。</li>
<li>任何一个结点到其每一个叶子节点的任何路径上黑色节点数相同。</li>
</ol>
</li>
<li>
<p>List 接口中带索引的方法：</p>
<ul>
<li><code>public void add(int index, E element)</code>: 将指定的元素，添加到该集合中的指定位置上。</li>
<li><code>public E set(int index, E element)</code>:用指定元素替换集合中指定位置的元素，返回值的更新前的元素。</li>
<li><code>void remove(int position)</code>  :从此滚动列表中移除指定位置处的项。</li>
</ul>
</li>
<li>
<p><code>ArrayList</code> 底层是数组，<strong>查询快，增删慢</strong>，当第一次调用 add 添加元素时 <code>ArrayList</code> 才会设置数组默认长度 10，之后超出时会自动扩容，是以前的 1.5 倍，每次扩容会复制以前的数组到新的数组。</p>
</li>
<li>
<p><code>Arraylist</code> 实现不是同步的，即线程不安全。</p>
</li>
<li>
<p><code>LinkedList</code> 底层是一个双向链表：</p>
<ul>
<li><code>public void addFirst(E e)</code>:将指定元素插入此列表的开头。</li>
<li><code>public void addLast(E e)</code>:将指定元素添加到此列表的结尾。</li>
<li><code>public void push(E e)</code>:与 <code>addFirst</code> 等效。</li>
<li><code>public E getFirst()</code>:返回此列表的第一个元素。</li>
<li><code>public E getLast()</code>:返回此列表的最后一个元素。</li>
<li><code>public E removeFirst()</code>:移除并返回此列表的第一个元素。</li>
<li><code>public E removeLast()</code>:移除并返回此列表的最后一个元素。</li>
<li><code>public E pop()</code>:与 <code>removeFirst</code> 等效。</li>
</ul>
</li>
<li>
<p><code>Vector&lt;E&gt;</code> 是同步的，线程安全，是同步的，特有方法（已过时）：</p>
<ul>
<li><code>void addElement(E obj);</code></li>
<li><code>Enumeration&lt;E&gt; elements();</code> 返回此向量的组件的枚举。</li>
</ul>
</li>
<li>
<p><code>Enumeration&lt;E&gt;</code> 方法：</p>
<ul>
<li><code>boolean hasMoreElements();</code> 测试此枚举是否包含更多的元素。</li>
<li><code>E nextElement();</code> 如果此枚举对象至少还有一个可提供的元素，则返回此枚举的下一个元素。</li>
</ul>
</li>
<li>
<p><code>Set&lt;E&gt;</code> 接口不允许存储重复的元素。</p>
</li>
<li>
<p><code>HashSet&lt;E&gt;</code> 是一个无序集合，底层是一个哈希表结构（实际上是一个 <code>HashMap</code> 实例），查询速度很快。</p>
</li>
<li>
<p>哈希值：是一个十进制的整数，由系统随机给出(就是对象的地址值，是一个逻辑地址，是模拟出来得到地址，不是数据实际存储的物理地址)。</p>
</li>
<li>
<p><code>Object</code> 类中 <code>public native int hashCode()</code> 方法返回对象的哈希码值。</p>
</li>
<li>
<p><strong>native</strong>代表该方法调用的是本地操作系统的方法。</p>
</li>
<li>
<p><code>Object.toString()</code> 方法源码：<br>
<code>return getClass().getName() + "@" + Integer.toHexString(hashCode());</code><br>
调用了哈希码的十六进制形式。</p>
</li>
<li>
<p>不重写 <code>hashCode()</code> 的时候，是根据在内存中的真实地址去计算哈希码。</p>
</li>
<li>
<p><code>equal()</code> 相等的两个对象他们的 <code>hashCode()</code> 肯定相等，<code>hashCode()</code> 相等的两个对象他们的 <code>equal()</code> 不一定相等。</p>
</li>
<li>
<p>不同对象的哈希码有可能相同，<code>hashCode()</code> 不绝对可靠，但是效率高，所以先判断 <code>hashCode()</code> 是否相同，若相同，再去判断 <code>equals()</code> 可以提高程序的效率。</p>
</li>
<li>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Demo01HashCode</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">//Person类继承了Object类,所以可以使用Object类的hashCode方法
</span><span class="highlight-c1"></span>        <span class="highlight-n">Person</span> <span class="highlight-n">p1</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Person</span><span class="highlight-o">();</span>
        <span class="highlight-kt">int</span> <span class="highlight-n">h1</span> <span class="highlight-o">=</span> <span class="highlight-n">p1</span><span class="highlight-o">.</span><span class="highlight-na">hashCode</span><span class="highlight-o">();</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">h1</span><span class="highlight-o">);</span><span class="highlight-c1">//1967205423
</span><span class="highlight-c1"></span>
        <span class="highlight-n">Person</span> <span class="highlight-n">p2</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Person</span><span class="highlight-o">();</span>
        <span class="highlight-kt">int</span> <span class="highlight-n">h2</span> <span class="highlight-o">=</span> <span class="highlight-n">p2</span><span class="highlight-o">.</span><span class="highlight-na">hashCode</span><span class="highlight-o">();</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">h2</span><span class="highlight-o">);</span><span class="highlight-c1">//42121758
</span><span class="highlight-c1"></span>
        <span class="highlight-cm">/*
</span><span class="highlight-cm">            toString方法的源码:
</span><span class="highlight-cm">                return getClass().getName() + "@" + Integer.toHexString(hashCode());
</span><span class="highlight-cm">         */</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">p1</span><span class="highlight-o">);</span><span class="highlight-c1">//com.itheima.demo03.hashCode.Person@75412c2f
</span><span class="highlight-c1"></span>        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">p2</span><span class="highlight-o">);</span><span class="highlight-c1">//com.itheima.demo03.hashCode.Person@282ba1e
</span><span class="highlight-c1"></span>        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">p1</span> <span class="highlight-o">==</span> <span class="highlight-n">p2</span><span class="highlight-o">);</span><span class="highlight-c1">//false
</span><span class="highlight-c1"></span>
        <span class="highlight-cm">/*
</span><span class="highlight-cm">            String类的哈希值
</span><span class="highlight-cm">                String类重写Obejct类的hashCode方法
</span><span class="highlight-cm">         */</span>
        <span class="highlight-n">String</span> <span class="highlight-n">s1</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">String</span><span class="highlight-o">(</span><span class="highlight-s">"abc"</span><span class="highlight-o">);</span>
        <span class="highlight-n">String</span> <span class="highlight-n">s2</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">String</span><span class="highlight-o">(</span><span class="highlight-s">"abc"</span><span class="highlight-o">);</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">s1</span><span class="highlight-o">.</span><span class="highlight-na">hashCode</span><span class="highlight-o">());</span><span class="highlight-c1">//96354
</span><span class="highlight-c1"></span>        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">s2</span><span class="highlight-o">.</span><span class="highlight-na">hashCode</span><span class="highlight-o">());</span><span class="highlight-c1">//96354
</span><span class="highlight-c1"></span>        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">s1</span><span class="highlight-o">.</span><span class="highlight-na">equals</span><span class="highlight-o">(</span><span class="highlight-n">s2</span><span class="highlight-o">));</span><span class="highlight-c1">//true
</span><span class="highlight-c1"></span>        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">s1</span><span class="highlight-o">==</span><span class="highlight-n">s2</span><span class="highlight-o">);</span><span class="highlight-c1">//false
</span><span class="highlight-c1"></span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"重地"</span><span class="highlight-o">.</span><span class="highlight-na">hashCode</span><span class="highlight-o">());</span><span class="highlight-c1">//1179395
</span><span class="highlight-c1"></span>        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"通话"</span><span class="highlight-o">.</span><span class="highlight-na">hashCode</span><span class="highlight-o">());</span><span class="highlight-c1">//1179395
</span><span class="highlight-c1"></span>    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p>哈希表的初始容量为 16，特点为查询速度快。</p>
</li>
<li>
<p>jdk1.7：哈希表由数组 + 链表构成<br>
jdk1.8：哈希表由数组 + 链表 + 红黑树(提高查询的速度)构成</p>
<blockquote>
<p>当链表中的元素超过了 8 个以后，链表就会转换为红黑树。</p>
</blockquote>
</li>
<li>
<p>Set 集合在调用 add 方法的时候，add 方法会调用元素的 <code>hashCode()</code> 和 <code>equals()</code> 方法判断元素是否重复，首先会调用元素的 <code>hashCode()</code> 方法，寻找这个哈希值有没有对应元素，若没有，存入，若对应哈希值有元素(哈希冲突)，就会调用 <code>equals()</code> 方法和哈希值相同的元素就行比较，若不同则存入，相同则不存。<img src="https://raw.githubusercontent.com/Rainsheep/pic-bed/master/img/2020-02-01+00:05:31+image-20200129230620308.png" alt=""></p>
</li>
<li>
<p><code>java.util.LinkedHashSet</code> 集合继承 <code>HashSet</code>，底层是一个哈希表(数组 + 链表\红黑树)+ 链表：多了一条链表记录元素的存储顺序，保证元素有序。</p>
</li>
<li>
<p><code>TreeSet</code> 集合中的数据根据数据大小进行排序，可以自然排序，也可以自定义排序顺序。</p>
</li>
<li>
<p>可变参数是 JDK1.5 之后出现的新特性，可变参数底层就是一个数组，根据传递参数个数不同，会创建不同长度的数组，来存储这些参数，格式：</p>
<ul>
<li>修饰符 返回值类型 方法名(数据类型...变量名){}</li>
</ul>
<blockquote>
<p>注意：<br>
1.一个方法的参数列表，只能有一个可变参数<br>
2.如果方法的参数有多个，那么可变参数必须写在参数列表的末尾</p>
</blockquote>
</li>
</ul>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>
  
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Main</span> <span class="highlight-o">{</span>
      <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
          <span class="highlight-kt">int</span> <span class="highlight-n">ans</span><span class="highlight-o">=</span><span class="highlight-n">add</span><span class="highlight-o">(</span><span class="highlight-n">1</span><span class="highlight-o">,</span><span class="highlight-n">2</span><span class="highlight-o">,</span><span class="highlight-n">3</span><span class="highlight-o">);</span>
          <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">ans</span><span class="highlight-o">);</span><span class="highlight-c1">//6
</span><span class="highlight-c1"></span>      <span class="highlight-o">}</span>
  
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">int</span> <span class="highlight-nf">add</span><span class="highlight-o">(</span><span class="highlight-kt">int</span><span class="highlight-o">...</span> <span class="highlight-n">arr</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
          <span class="highlight-kt">int</span> <span class="highlight-n">sum</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>
          <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">i</span> <span class="highlight-o">:</span> <span class="highlight-n">arr</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
              <span class="highlight-n">sum</span> <span class="highlight-o">+=</span> <span class="highlight-n">i</span><span class="highlight-o">;</span>
          <span class="highlight-o">}</span>
          <span class="highlight-k">return</span> <span class="highlight-n">sum</span><span class="highlight-o">;</span>
      <span class="highlight-o">}</span>
  <span class="highlight-o">}</span>
</code></pre>
<ul>
<li>
<p><code>java.utils.Collections</code> 常用方法：</p>
<ul>
<li><code>static &lt;T&gt; boolean addAll(Collection&lt;T&gt; c, T... elements)</code>:往集合中添加一些元素。</li>
<li><code>static void shuffle(List&lt;?&gt; list) </code>:打乱顺序：打乱集合顺序。</li>
<li><code>static &lt;T&gt; void sort(List&lt;T&gt; list)</code>:将集合中元素按照默认规则排序。</li>
<li><code>static &lt;T&gt; void sort(List&lt;T&gt; list，Comparator&lt;? super T&gt; ) </code>:将集合中元素按照指定规则排序。</li>
<li><code>static &lt;T&gt; int binarySearch(List&lt;? extends T&gt; list, T key ,Comparator&lt;? super T&gt; c);</code> 查询不到的时候返回值 为 <code>-(插入点)-1</code>，插入点为第一个比此点大的点，有序指的是按照 Comparator 的顺序。</li>
<li><code>static &lt;T&gt; int binarySearch(List&lt;? extends Comparable&lt;? extends T&gt;&gt; list, T key);</code></li>
<li><code>static &lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt; T max(Collection&lt;? extends T&gt; coll);</code></li>
<li><code>static &lt;T&gt; T max(Collection&lt;? extends T&gt; coll, Comparator&lt;? super T&gt; comp);</code></li>
<li><code>static &lt;T&gt; boolean replaceAll(List&lt;T&gt; list, T oldVal, T newVal);</code></li>
<li><code>static void reverse(List&lt;?&gt; list);</code></li>
<li><code>static void swap(List&lt;?&gt; list, int i, int j);</code></li>
</ul>
<blockquote>
<p>sort(List<t> list)使用前提：被排序的集合里边存储的元素，必须实现 Comparable<t>,重写接口中的方法 <code>compareTo</code> 定义排序的规则。<br>
Comparable 接口的排序规则：自己(this)-参数：升序。</t></t></p>
</blockquote>
</li>
<li>
<p>Comparator 和 Comparable 的区别：<br>
Comparable:自己(this)和别人(参数)比较，自己需要实现 <code>Comparable</code> 接口，重写比较的规则 <code>compareTo</code> 方法。<br>
Comparator:相当于找一个第三方的裁判，比较两个元素。<br>
Comparator 的排序规则：o1-o2:升序。</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.ArrayList</span><span class="highlight-o">;</span>
<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.Collections</span><span class="highlight-o">;</span>
<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.Comparator</span><span class="highlight-o">;</span>
<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.List</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Main</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">List</span><span class="highlight-o">&lt;</span><span class="highlight-n">Integer</span><span class="highlight-o">&gt;</span> <span class="highlight-n">list</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">ArrayList</span><span class="highlight-o">&lt;&gt;();</span>
        <span class="highlight-n">Collections</span><span class="highlight-o">.</span><span class="highlight-na">addAll</span><span class="highlight-o">(</span><span class="highlight-n">list</span><span class="highlight-o">,</span> <span class="highlight-n">1</span><span class="highlight-o">,</span> <span class="highlight-n">2</span><span class="highlight-o">,</span> <span class="highlight-n">3</span><span class="highlight-o">);</span>
        <span class="highlight-n">Collections</span><span class="highlight-o">.</span><span class="highlight-na">sort</span><span class="highlight-o">(</span><span class="highlight-n">list</span><span class="highlight-o">,</span> <span class="highlight-k">new</span> <span class="highlight-n">Comparator</span><span class="highlight-o">&lt;</span><span class="highlight-n">Integer</span><span class="highlight-o">&gt;()</span> <span class="highlight-o">{</span>
            <span class="highlight-nd">@Override</span>
            <span class="highlight-kd">public</span> <span class="highlight-kt">int</span> <span class="highlight-nf">compare</span><span class="highlight-o">(</span><span class="highlight-n">Integer</span> <span class="highlight-n">o1</span><span class="highlight-o">,</span> <span class="highlight-n">Integer</span> <span class="highlight-n">o2</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                <span class="highlight-k">return</span> <span class="highlight-n">o1</span> <span class="highlight-o">-</span> <span class="highlight-n">o2</span><span class="highlight-o">;</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">});</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
</ul>
<h3 id="15--Map-">15.【Map】</h3>
<ul>
<li>
<p><code>HashMap&lt;K,V&gt;</code> 基于哈希表的 Map 接口的实现，无序，<code>HashSet</code> 实际上是一个 <code>HashMap</code> 实例，<code>HashSet</code> 构造源码：</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-nf">HashSet</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
    <span class="highlight-n">map</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">HashMap</span><span class="highlight-o">&lt;&gt;();</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p><code>HashMap</code> 实现是不同步的，线程不安全集合，是多线程的集合，速度快。</p>
</li>
<li>
<p><code>LinkedHashMap&lt;K,V&gt;</code>：哈希表和链表实现，保证有序，key 按存入顺序排序，但 key 对应的 value 会被后来者更新。</p>
</li>
<li>
<p><code>HashMap&lt;K,V&gt;</code> 常用方法：</p>
<ul>
<li><code>public V put(K key, V value)</code>:  把指定的键与指定的值添加到 Map 集合中。
<blockquote>
<p>存储键值对的时候，key 不重复，返回值 V 是 null;</p>
<p>存储键值对的时候，key 重复，会使用新的 value 替换 map 中重复的 value,返回被替换的 value 值。</p>
</blockquote>
</li>
<li><code>public V remove(Object key)</code>: 把指定的键 所对应的键值对元素 在 Map 集合中删除，返回被删除元素的。</li>
<li><code>public V get(Object key)</code>: 根据指定的键，在 Map 集合中获取对应的值。</li>
<li><code>boolean containsKey(Object key)</code>: 判断集合中是否包含指定的键。</li>
<li><code>boolean containsValue(Object value)</code>: 判断集合中是否包含指定的值。</li>
<li><code>void putAll(Map&lt;? extends K,? extends V&gt; m)</code>:将指定映射的所有映射关系复制到此映射中，有重复则替换当前映射。</li>
<li><code>Collection&lt;V&gt; values()</code>:返回此映射所包含的值的 <code>Collection</code> 视图。</li>
<li><code>Set&lt;K&gt; keySet()</code> :返回此映射中包含的键的 Set 视图。</li>
<li><code>Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()</code>: 返回此映射中包含的映射关系的 Set 视图。</li>
</ul>
<blockquote>
<p>遍历 map 集合的时候可以使用 <code>keySet</code> 或 <code>entrySet</code> 方法，不能使用迭代器，<code>iterator</code> 方法为 <code>Collection</code> 接口中的方法，Map 接口中没有此方法。</p>
</blockquote>
</li>
<li>
<p><code>Map.Entry&lt;K,V&gt;</code>:在 Map 接口中有一个内部静态接口 Entry，其对象用来记录一个键值对关系。常用方法：</p>
<ul>
<li><code>K getKey()</code>:返回与此项对应的键。</li>
<li><code>K getValue()</code>:返回与此项对应的值。</li>
</ul>
</li>
<li>
<p><code>Map</code> 集合中，作为 key 的元素，必须重写 <code>hashCode</code> 方法和 <code>equals</code> 方法，以保证 key 唯一。</p>
</li>
<li>
<p><code>Hashtable</code> 集合的键和值都不能为 null,别的集合可以。</p>
</li>
<li>
<p><code>Hashtable</code> 集合底层是哈希表，实现了 <code>Map&lt;K,V&gt;</code> 接口，是同步的，线程安全，单线程集合，速度慢。</p>
</li>
<li>
<p><code>Hashtable</code> 和 <code>Vector</code> 集合一样，在 jdk1.2 版本之后被更先进的集合(<code>HashMap,ArrayList</code>)取代了。</p>
</li>
<li>
<p><code>Hashtable</code> 的子类 <code>Properties</code> 依然活跃在历史舞台，<code>Properties</code> 集合是一个唯一和 IO 流相结合的集合。</p>
</li>
<li>
<p>了解：JDK9 新特性</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.List</span><span class="highlight-o">;</span>
<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.Map</span><span class="highlight-o">;</span>
<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.Set</span><span class="highlight-o">;</span>

<span class="highlight-cm">/*
</span><span class="highlight-cm">    JDK9的新特性:
</span><span class="highlight-cm">        List接口,Set接口,Map接口:里边增加了一个静态的方法of,可以给集合一次性添加多个元素
</span><span class="highlight-cm">        static &lt;E&gt; List&lt;E&gt; of(E... elements)
</span><span class="highlight-cm">        使用前提:
</span><span class="highlight-cm">            当集合中存储的元素的个数已经确定了,不在改变时使用
</span><span class="highlight-cm">     注意:
</span><span class="highlight-cm">        1.of方法只适用于List接口,Set接口,Map接口,不适用于接接口的实现类
</span><span class="highlight-cm">        2.of方法的返回值是一个不能改变的集合,集合不能再使用add,put方法添加元素,会抛出异常
</span><span class="highlight-cm">        3.Set接口和Map接口在调用of方法的时候,不能有重复的元素,否则会抛出异常
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Demo01JDK9</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">List</span><span class="highlight-o">&lt;</span><span class="highlight-n">String</span><span class="highlight-o">&gt;</span> <span class="highlight-n">list</span> <span class="highlight-o">=</span> <span class="highlight-n">List</span><span class="highlight-o">.</span><span class="highlight-na">of</span><span class="highlight-o">(</span><span class="highlight-s">"a"</span><span class="highlight-o">,</span> <span class="highlight-s">"b"</span><span class="highlight-o">,</span> <span class="highlight-s">"a"</span><span class="highlight-o">,</span> <span class="highlight-s">"c"</span><span class="highlight-o">,</span> <span class="highlight-s">"d"</span><span class="highlight-o">);</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">list</span><span class="highlight-o">);</span><span class="highlight-c1">//[a, b, a, c, d]
</span><span class="highlight-c1"></span>        <span class="highlight-c1">//list.add("w");//UnsupportedOperationException:不支持操作异常
</span><span class="highlight-c1"></span>
        <span class="highlight-c1">//Set&lt;String&gt; set = Set.of("a", "b", "a", "c", "d");//IllegalArgumentException:非法参数异常,有重复的元素
</span><span class="highlight-c1"></span>        <span class="highlight-n">Set</span><span class="highlight-o">&lt;</span><span class="highlight-n">String</span><span class="highlight-o">&gt;</span> <span class="highlight-n">set</span> <span class="highlight-o">=</span> <span class="highlight-n">Set</span><span class="highlight-o">.</span><span class="highlight-na">of</span><span class="highlight-o">(</span><span class="highlight-s">"a"</span><span class="highlight-o">,</span> <span class="highlight-s">"b"</span><span class="highlight-o">,</span> <span class="highlight-s">"c"</span><span class="highlight-o">,</span> <span class="highlight-s">"d"</span><span class="highlight-o">);</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">set</span><span class="highlight-o">);</span>
        <span class="highlight-c1">//set.add("w");//UnsupportedOperationException:不支持操作异常
</span><span class="highlight-c1"></span>
        <span class="highlight-c1">//Map&lt;String, Integer&gt; map = Map.of("张三", 18, "李四", 19, "王五", 20,"张三",19);////IllegalArgumentException:非法参数异常,有重复的元素
</span><span class="highlight-c1"></span>        <span class="highlight-n">Map</span><span class="highlight-o">&lt;</span><span class="highlight-n">String</span><span class="highlight-o">,</span> <span class="highlight-n">Integer</span><span class="highlight-o">&gt;</span> <span class="highlight-n">map</span> <span class="highlight-o">=</span> <span class="highlight-n">Map</span><span class="highlight-o">.</span><span class="highlight-na">of</span><span class="highlight-o">(</span><span class="highlight-s">"张三"</span><span class="highlight-o">,</span> <span class="highlight-n">18</span><span class="highlight-o">,</span> <span class="highlight-s">"李四"</span><span class="highlight-o">,</span> <span class="highlight-n">19</span><span class="highlight-o">,</span> <span class="highlight-s">"王五"</span><span class="highlight-o">,</span> <span class="highlight-n">20</span><span class="highlight-o">);</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">map</span><span class="highlight-o">);</span><span class="highlight-c1">//{王五=20, 李四=19, 张三=18}
</span><span class="highlight-c1"></span>        <span class="highlight-c1">//map.put("赵四",30);//UnsupportedOperationException:不支持操作异常
</span><span class="highlight-c1"></span>    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
</ul>
<h3 id="16--异常-线程-">16.【异常、线程】</h3>
<ul>
<li>
<p>异常的根类是 <code>java.lang.Throwable</code>，其下有两个子类：<code>java.lang.Error</code> 和 <code>java.lang.Exception</code>。</p>
</li>
<li>
<p><code>Error</code> 指不应该试图捕获的严重问题，比如创建数组太大。</p>
</li>
<li>
<p><code>Exception</code> 分为编译期异常(cheked 异常),进行编译(写代码)时 Java 程序出现的问题和 <code>RuntimeException</code>。</p>
</li>
<li>
<p><code>RuntimeException</code> 是 <code>Exception</code> 的子类，指可能在 Java 虚拟机正常运行期间抛出的异常的超类。</p>
<ul>
<li><code>Exception</code> 的编译期异常，必须处理，要么 <code>throws</code>，要么 <code>try...catch</code>。</li>
<li><code>RuntimeException</code> 或者 <code>RuntimeException</code> 的子类对象为运行期异常，我们可以不处理，默认交给 JVM 处理(打印异常对象，中断程序)。</li>
</ul>
</li>
<li>
<p><code>Throwable</code> 中的常用方法：</p>
<ul>
<li><code>public void printStackTrace()</code>:打印异常的详细信息，包含了异常的类型、异常的原因、异常出现的位置，在开发和调试阶段都使用 <code>printStackTrace</code>。</li>
<li><code>public String getMessage()</code>:获取发生异常的原因，简短信息，例如：<code>throw</code> 异常时输入的 message。</li>
<li><code>public String toString()</code>:返回详细消息的字符串，例如：异常类型 +message。</li>
</ul>
</li>
<li>
<p>虚拟机处理异常的方式为中断处理。</p>
</li>
<li>
<p>异常产生的原理：<img src="https://raw.githubusercontent.com/Rainsheep/pic-bed/master/img/2020-02-06+13:36:45+p_20200206013638.png" alt=""></p>
</li>
<li>
<p><code>throw</code> 关键字：可以使用 throw 关键字在指定的方法中抛出指定的异常，格式 <code>throw new xxxException("异常产生的原因");</code><br>
注意：</p>
<ol>
<li><code>throw</code> 关键字必须写在方法的内部。</li>
<li><code>throw</code> 关键字后边 new 的对象必须是 <code>Exception</code> 或者 <code>Exception</code> 的子类对象。</li>
<li><code>throw</code> 关键字抛出指定的异常对象，我们就必须处理这个异常对象。
<ul>
<li><code>throw</code> 关键字后边创建的是 <code>RuntimeException</code> 或者是 <code>RuntimeException</code> 的子类对象，我们可以不处理，默认交给 JVM 处理(打印异常对象，中断程序)。</li>
<li><code>throw</code> 关键字后边创建的是编译异常(写代码的时候报错),我们就必须处理这个异常，要么 <code>throws</code>,要么 <code>try...catch</code>。</li>
</ul>
</li>
</ol>
</li>
<li>
<p><code>Objects</code> 中的非空判断方法：<code>public static &lt;T&gt; T requireNonNull(T obj)</code>，源码：</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-o">&lt;</span><span class="highlight-n">T</span><span class="highlight-o">&gt;</span> <span class="highlight-n">T</span> <span class="highlight-nf">requireNonNull</span><span class="highlight-o">(</span><span class="highlight-n">T</span> <span class="highlight-n">obj</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
    <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">obj</span> <span class="highlight-o">==</span> <span class="highlight-kc">null</span><span class="highlight-o">)</span>
        <span class="highlight-k">throw</span> <span class="highlight-k">new</span> <span class="highlight-n">NullPointerException</span><span class="highlight-o">();</span>
    <span class="highlight-k">return</span> <span class="highlight-n">obj</span><span class="highlight-o">;</span>
<span class="highlight-o">}</span>
</code></pre>
<p>可以简化书写，其重载为双参数：<code>public static &lt;T&gt; T requireNonNull(T obj,String message)</code>;</p>
</li>
<li>
<p><code>finally</code> 和 <code>catch</code> 后面代码的区别：处理异常的时候，在 <code>catch</code> 中有可能出现跳转，这时候，<code>catch</code> 后面的代码就不会执行，但是 <code>finally</code> 中的代码一定会执行。</p>
</li>
<li>
<p><code>finally</code> 中若有 <code>return</code>，则一定会返回此值，所以要避免 <code>finally</code> 中写 <code>return</code>。</p>
</li>
<li>
<p>如果父类抛出了多个异常，子类重写父类方法时，抛出和父类相同的异常或者是父类异常的子类或者不抛出异常。</p>
</li>
<li>
<p>父类方法没有抛出异常，子类重写父类该方法时也不可抛出异常。此时子类产生该异常，只能捕获处理，不能声明抛出。</p>
</li>
<li>
<p>自定义异常类：</p>
<ul>
<li>自定义异常类一般都是以 <code>Exception</code> 结尾，说明该类是一个异常类。</li>
<li>自定义异常类，必须的继承 <code>Exception</code> 或者 <code>RuntimeException</code>。</li>
</ul>
<p>格式：</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-cm">/*
</span><span class="highlight-cm">    自定义异常类:
</span><span class="highlight-cm">        java提供的异常类,不够我们使用,需要自己定义一些异常类
</span><span class="highlight-cm">    格式:
</span><span class="highlight-cm">        public class XXXExcepiton extends Exception | RuntimeException{
</span><span class="highlight-cm">            添加一个空参数的构造方法
</span><span class="highlight-cm">            添加一个带异常信息的构造方法
</span><span class="highlight-cm">        }
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">RegisterException</span> <span class="highlight-kd">extends</span> <span class="highlight-cm">/*Exception*/</span> <span class="highlight-n">RuntimeException</span> <span class="highlight-o">{</span>
    <span class="highlight-c1">//添加一个空参数的构造方法
</span><span class="highlight-c1"></span>    <span class="highlight-kd">public</span> <span class="highlight-nf">RegisterException</span><span class="highlight-o">()</span> <span class="highlight-o">{</span> <span class="highlight-kd">super</span><span class="highlight-o">();</span> <span class="highlight-o">}</span>

    <span class="highlight-cm">/*
</span><span class="highlight-cm">        添加一个带异常信息的构造方法
</span><span class="highlight-cm">        查看源码发现,所有的异常类都会有一个带异常信息的构造方法,方法内部会调用父类带异常信息的构造方法,让父类来处理这个异常信息
</span><span class="highlight-cm">     */</span>
    <span class="highlight-kd">public</span> <span class="highlight-nf">RegisterException</span><span class="highlight-o">(</span><span class="highlight-n">String</span> <span class="highlight-n">message</span><span class="highlight-o">)</span> <span class="highlight-o">{</span> <span class="highlight-kd">super</span><span class="highlight-o">(</span><span class="highlight-n">message</span><span class="highlight-o">);</span> <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p>并发：两个或多个事件在同一时间段发生(交替执行)。</p>
</li>
<li>
<p>并行：两个或多个事件在同一时刻发生(同时发生)。</p>
</li>
<li>
<p><strong>进程</strong>：是指一个内存中运行的应用程序，每个进程都有一个独立的内存空间，一个应用程序可以同时运行多个进程；进程也是程序的一次执行过程，是系统运行程序的基本单位；系统运行一个程序即是一个进程从创建、运行到消亡的过程。</p>
</li>
<li>
<p><strong>线程</strong>：线程是进程中的一个执行单元，负责当前进程中程序的执行，一个进程中至少有一个线程。一个进程中是可以有多个线程的，这个应用程序也可以称之为多线程程序。</p>
</li>
<li>
<p>线程调度：</p>
<ul>
<li>分时调度：所有线程轮流使用 CPU 的使用权，平均分配每个线程占用 CPU 的时间。</li>
<li>抢占式调度：优先让优先级高的线程使用 CPU，如果线程的优先级相同，那么会随机选择一个(线程随机性)，Java 使用的为抢占式调度。</li>
</ul>
</li>
<li>
<p>多线程程序并不能提高程序的运行速度，但能够提高程序运行效率，让 CPU 的使用率更高。</p>
</li>
<li>
<p><code>main</code> 线程：<img src="https://raw.githubusercontent.com/Rainsheep/pic-bed/master/img/2020-02-06+23:38:25+p_20200206113816.png" alt=""></p>
</li>
<li>
<p>创建多线程程序的第一种方式：创建 Thread 类的子类</p>
<ol>
<li>创建一个类继承 <code>Thread</code> 类。</li>
<li>在 Thread 类的子类中重写 Thread 类中的 run 方法，设置线程任务。</li>
<li>创建 Thread 类的子类对象。</li>
<li>调用 Thread 类中的方法 start 方法，开启新的线程，执行 run 方法。</li>
</ol>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-c1">//1.创建一个Thread类的子类
</span><span class="highlight-c1"></span><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">MyThread</span> <span class="highlight-kd">extends</span> <span class="highlight-n">Thread</span> <span class="highlight-o">{</span>
    <span class="highlight-c1">//2.在Thread类的子类中重写Thread类中的run方法,设置线程任务(开启线程要做什么?)
</span><span class="highlight-c1"></span>    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">i</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">i</span> <span class="highlight-o">&lt;</span> <span class="highlight-n">20</span><span class="highlight-o">;</span> <span class="highlight-n">i</span><span class="highlight-o">++)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"run:"</span> <span class="highlight-o">+</span> <span class="highlight-n">i</span><span class="highlight-o">);</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">import</span> <span class="highlight-nn">package1.MyThread</span><span class="highlight-o">;</span>

<span class="highlight-cm">/*
</span><span class="highlight-cm">    创建多线程程序的第一种方式:创建Thread类的子类
</span><span class="highlight-cm">    java.lang.Thread类:是描述线程的类,我们想要实现多线程程序,就必须继承Thread类
</span><span class="highlight-cm">
</span><span class="highlight-cm">    实现步骤:
</span><span class="highlight-cm">        1.创建一个Thread类的子类
</span><span class="highlight-cm">        2.在Thread类的子类中重写Thread类中的run方法,设置线程任务(开启线程要做什么?)
</span><span class="highlight-cm">        3.创建Thread类的子类对象
</span><span class="highlight-cm">        4.调用Thread类中的方法start方法,开启新的线程,执行run方法
</span><span class="highlight-cm">             void start() 使该线程开始执行；Java 虚拟机调用该线程的 run 方法。
</span><span class="highlight-cm">             结果是两个线程并发地运行；当前线程（main线程）和另一个线程（创建的新线程,执行其 run 方法）。
</span><span class="highlight-cm">             多次启动一个线程是非法的。特别是当线程已经结束执行后，不能再重新启动。
</span><span class="highlight-cm">    java程序属于抢占式调度,那个线程的优先级高,那个线程优先执行;同一个优先级,随机选择一个执行
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Solution</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">//3.创建Thread类的子类对象
</span><span class="highlight-c1"></span>        <span class="highlight-n">MyThread</span> <span class="highlight-n">mt</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">MyThread</span><span class="highlight-o">();</span>
        <span class="highlight-c1">//4.调用Thread类中的方法start方法,开启新的线程,执行run方法
</span><span class="highlight-c1"></span>        <span class="highlight-n">mt</span><span class="highlight-o">.</span><span class="highlight-na">start</span><span class="highlight-o">();</span>

        <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">i</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">i</span> <span class="highlight-o">&lt;</span> <span class="highlight-n">20</span><span class="highlight-o">;</span> <span class="highlight-n">i</span><span class="highlight-o">++)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"main:"</span> <span class="highlight-o">+</span> <span class="highlight-n">i</span><span class="highlight-o">);</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p><strong>多次启动一个线程是非法的</strong>。特别是当线程已经结束执行后，不能再重新启动。</p>
</li>
<li>
<p>多线程程序会开辟多个栈空间。<img src="https://raw.githubusercontent.com/Rainsheep/pic-bed/master/img/2020-02-07+11:41:39+p_20200207114136.png" alt=""></p>
</li>
<li>
<p>获取线程的名称：</p>
<ul>
<li>使用 <code>Thread</code> 类中的方法 <code>public String getName()</code> 返回该线程的名称。</li>
<li>先获取到当前正在执行的线程，使用线程中的方法 <code>getName()</code> 获取线程的名称，<code>public static Thread currentThread()</code> 返回对当前正在执行的线程对象的引用。</li>
<li><code>main</code> 线程所在类没有继承 <code>Thread</code>，不能通过 <code>getName()</code> 方法获取当前线程的名字，可以通过 <code>Thread.currentThread().getName()</code> 获取。</li>
</ul>
</li>
<li>
<p><code>main</code> 线程的名字为 <code>main</code>，新线程的名字为 <code>Thread-0</code>、<code>Thread-1</code> 等。</p>
</li>
<li>
<p>设置线程名称：</p>
<ul>
<li>使用 Thread 类中的方法 <code>void setName(String name)</code>。</li>
<li>创建一个带参数的构造方法，参数传递线程的名称;调用父类的带参构造方法，把线程名称传递给父类，让父类(Thread)给子线程起一个名字 <code>Thread(String name) </code>。</li>
</ul>
</li>
<li>
<p><code>Thread</code> 类常用方法汇总：</p>
<ul>
<li><code>public Thread()</code> :分配一个新的线程对象。</li>
<li><code>public Thread(String name) </code>:分配一个指定名字的新的线程对象。</li>
<li><code>public Thread(Runnable target)</code> :分配一个带有指定目标新的线程对象。</li>
<li><code>public Thread(Runnable target,String name) </code>:分配一个带有指定目标新的线程对象并指定名字。</li>
<li><code>public String getName()</code> :获取当前线程名称。</li>
<li><code>public void start() </code>:导致此线程开始执行; Java 虚拟机调用此线程的 run 方法。</li>
<li><code>public static void sleep(long millis)</code> :使当前正在执行的线程以指定的毫秒数暂停（暂时停止执行）。</li>
<li><code>public static Thread currentThread() </code>:返回对当前正在执行的线程对象的引用。</li>
</ul>
</li>
<li>
<p>创建多线程的第二种方式：实现 <code>java.lang.Runnable</code> 接口</p>
<ol>
<li>定义 <code>Runnable</code> 接口的实现类，并重写该接口的 <code>run()</code> 方法，该 <code>run()</code> 方法的方法体同样是该线程的线程执行体。</li>
<li>创建 <code>Runnable</code> 实现类的实例，并以此实例作为 <code>Thread</code> 的 <code>target</code> 来创建 <code>Thread</code> 对象，该 <code>Thread</code> 对象才是真正的线程对象。</li>
<li>调用线程对象的 <code>start()</code> 方法来启动线程。</li>
</ol>
</li>
<li>
<p>实现 <code>Runnable</code> 接口创建多线程程序的好处：</p>
<ul>
<li><strong>适合多个相同的程序代码的线程去共享同一个资源。</strong></li>
<li>避免了单继承的局限性(类继承了 <code>Thread</code> 类就不能继承其他的类)。</li>
<li>增强了程序的扩展性，降低了程序的耦合性(解耦),实现 <code>Runnable</code> 接口的方式，把设置线程任务和开启新线程进行了分离(解耦)。</li>
<li>线程池只能放入实现 <code>Runnable</code> 或 <code>Callable</code> 类线程，不能直接放入继承 <code>Thread</code> 的类。</li>
</ul>
</li>
<li>
<p>关于 <code>Runnable</code> 适合资源共享的详细解释：</p>
<ul>
<li>继承 <code>Thread</code> 类，多个线程分别完成自己的任务。
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">class</span> <span class="highlight-nc">MyThread</span> <span class="highlight-kd">extends</span> <span class="highlight-n">Thread</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span> <span class="highlight-n">ticket</span> <span class="highlight-o">=</span> <span class="highlight-n">10</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">String</span> <span class="highlight-n">name</span><span class="highlight-o">;</span>

    <span class="highlight-kd">public</span> <span class="highlight-nf">MyThread</span><span class="highlight-o">(</span><span class="highlight-n">String</span> <span class="highlight-n">name</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">name</span> <span class="highlight-o">=</span> <span class="highlight-n">name</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">i</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">i</span> <span class="highlight-o">&lt;</span> <span class="highlight-n">500</span><span class="highlight-o">;</span> <span class="highlight-n">i</span><span class="highlight-o">++)</span> <span class="highlight-o">{</span>
            <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">ticket</span> <span class="highlight-o">&gt;</span> <span class="highlight-n">0</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">name</span> <span class="highlight-o">+</span> <span class="highlight-s">"卖票----&gt;"</span> <span class="highlight-o">+</span> <span class="highlight-o">(</span><span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">ticket</span><span class="highlight-o">--));</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">ThreadDemo</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">MyThread</span> <span class="highlight-n">mt1</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">MyThread</span><span class="highlight-o">(</span><span class="highlight-s">"一号窗口"</span><span class="highlight-o">);</span>
        <span class="highlight-n">MyThread</span> <span class="highlight-n">mt2</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">MyThread</span><span class="highlight-o">(</span><span class="highlight-s">"二号窗口"</span><span class="highlight-o">);</span>
        <span class="highlight-n">MyThread</span> <span class="highlight-n">mt3</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">MyThread</span><span class="highlight-o">(</span><span class="highlight-s">"三号窗口"</span><span class="highlight-o">);</span>
        <span class="highlight-n">mt1</span><span class="highlight-o">.</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
        <span class="highlight-n">mt2</span><span class="highlight-o">.</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
        <span class="highlight-n">mt3</span><span class="highlight-o">.</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>实现 <code>Runnable</code> 接口，多个线程共同完成一个任务。
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">class</span> <span class="highlight-nc">MyThread1</span> <span class="highlight-kd">implements</span> <span class="highlight-n">Runnable</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span> <span class="highlight-n">ticket</span> <span class="highlight-o">=</span> <span class="highlight-n">10</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">String</span> <span class="highlight-n">name</span><span class="highlight-o">;</span>

    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">i</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">i</span> <span class="highlight-o">&lt;</span> <span class="highlight-n">500</span><span class="highlight-o">;</span> <span class="highlight-n">i</span><span class="highlight-o">++)</span> <span class="highlight-o">{</span>
            <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">ticket</span> <span class="highlight-o">&gt;</span> <span class="highlight-n">0</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">currentThread</span><span class="highlight-o">().</span><span class="highlight-na">getName</span><span class="highlight-o">()</span> <span class="highlight-o">+</span> <span class="highlight-s">"卖票----&gt;"</span> <span class="highlight-o">+</span> <span class="highlight-o">(</span><span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">ticket</span><span class="highlight-o">--));</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">RunnableDemo</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">//设计三个线程
</span><span class="highlight-c1"></span>        <span class="highlight-n">MyThread1</span> <span class="highlight-n">mt</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">MyThread1</span><span class="highlight-o">();</span>
        <span class="highlight-n">Thread</span> <span class="highlight-n">t1</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">(</span><span class="highlight-n">mt</span><span class="highlight-o">,</span> <span class="highlight-s">"一号窗口"</span><span class="highlight-o">);</span>
        <span class="highlight-n">Thread</span> <span class="highlight-n">t2</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">(</span><span class="highlight-n">mt</span><span class="highlight-o">,</span> <span class="highlight-s">"二号窗口"</span><span class="highlight-o">);</span>
        <span class="highlight-n">Thread</span> <span class="highlight-n">t3</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">(</span><span class="highlight-n">mt</span><span class="highlight-o">,</span> <span class="highlight-s">"三号窗口"</span><span class="highlight-o">);</span>
        <span class="highlight-n">t1</span><span class="highlight-o">.</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
        <span class="highlight-n">t2</span><span class="highlight-o">.</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
        <span class="highlight-n">t3</span><span class="highlight-o">.</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li><code>Thread</code> 为三个线程分别去完成三个任务，不容易实现资源共享，<code>Runnable</code> 为三个线程去完成一个任务，比较容易实现资源共享。</li>
<li><strong><code>Thread</code> 类实际上也是实现了 <code>Runnable</code> 接口的类</strong>，所以以下写法实际上还是通过实现 <code>Runnable</code> 接口来实现多线程，通过 <code>public Thread(Runnable target)</code> 来构造 <code>Thread</code>。
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">ThreadDemo</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">MyThread</span> <span class="highlight-n">mt1</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">MyThread</span><span class="highlight-o">(</span><span class="highlight-s">""</span><span class="highlight-o">);</span>
        <span class="highlight-n">Thread</span> <span class="highlight-n">t1</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">(</span><span class="highlight-n">mt1</span><span class="highlight-o">,</span> <span class="highlight-s">"窗口1"</span><span class="highlight-o">);</span>
        <span class="highlight-n">Thread</span> <span class="highlight-n">t2</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">(</span><span class="highlight-n">mt1</span><span class="highlight-o">,</span> <span class="highlight-s">"窗口2"</span><span class="highlight-o">);</span>
        <span class="highlight-n">t1</span><span class="highlight-o">.</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
        <span class="highlight-n">t2</span><span class="highlight-o">.</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
</ul>
</li>
<li>
<p>在 <code>java</code> 中，每次程序运行至少启动 2 个线程。一个是 <code>main</code> 线程，一个是垃圾收集线程。因为每当使用 <code>java</code> 命令执行一个类的时候，实际上都会启动一个 JVM，每一个 JVM 其实在就是在操作系统中启动了一个进程。</p>
</li>
<li>
<p>匿名内部类实现线程创建：</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">NoNameInnerClassThread</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">(</span><span class="highlight-k">new</span> <span class="highlight-n">Runnable</span><span class="highlight-o">(){</span>
            <span class="highlight-nd">@Override</span>
            <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
                <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">i</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">i</span> <span class="highlight-o">&lt;</span> <span class="highlight-n">10</span><span class="highlight-o">;</span> <span class="highlight-n">i</span><span class="highlight-o">++)</span> <span class="highlight-o">{</span>
                    <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">currentThread</span><span class="highlight-o">().</span><span class="highlight-na">getName</span><span class="highlight-o">()+</span><span class="highlight-s">" "</span><span class="highlight-o">+</span><span class="highlight-n">i</span><span class="highlight-o">);</span>
                <span class="highlight-o">}</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}).</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
</ul>
<h3 id="17--线程-同步-">17.【线程、同步】</h3>
<ul>
<li>
<p>线程安全问题：多线程同时对同一变量进行读写操作，就会出现线程不安全问题。</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">RunnableImpl</span> <span class="highlight-kd">implements</span> <span class="highlight-n">Runnable</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span> <span class="highlight-n">ticket</span> <span class="highlight-o">=</span> <span class="highlight-n">100</span><span class="highlight-o">;</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-k">while</span> <span class="highlight-o">(</span><span class="highlight-kc">true</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">ticket</span> <span class="highlight-o">&gt;</span> <span class="highlight-n">0</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">currentThread</span><span class="highlight-o">().</span><span class="highlight-na">getName</span><span class="highlight-o">()</span> <span class="highlight-o">+</span> <span class="highlight-s">"正在卖第"</span> <span class="highlight-o">+</span> <span class="highlight-n">ticket</span> <span class="highlight-o">+</span> <span class="highlight-s">"张票"</span><span class="highlight-o">);</span>
                <span class="highlight-n">ticket</span><span class="highlight-o">--;</span>
            <span class="highlight-o">}</span>

        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Main</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">RunnableImpl</span> <span class="highlight-n">r</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">RunnableImpl</span><span class="highlight-o">();</span>
        <span class="highlight-n">Thread</span> <span class="highlight-n">t1</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">(</span><span class="highlight-n">r</span><span class="highlight-o">,</span> <span class="highlight-s">"窗口一"</span><span class="highlight-o">);</span>
        <span class="highlight-n">Thread</span> <span class="highlight-n">t2</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">(</span><span class="highlight-n">r</span><span class="highlight-o">,</span> <span class="highlight-s">"窗口二"</span><span class="highlight-o">);</span>
        <span class="highlight-n">Thread</span> <span class="highlight-n">t3</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">(</span><span class="highlight-n">r</span><span class="highlight-o">,</span> <span class="highlight-s">"窗口三"</span><span class="highlight-o">);</span>
        <span class="highlight-n">t1</span><span class="highlight-o">.</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
        <span class="highlight-n">t2</span><span class="highlight-o">.</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
        <span class="highlight-n">t3</span><span class="highlight-o">.</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
        <span class="highlight-c1">//窗口一正在卖第100张票
</span><span class="highlight-c1"></span>        <span class="highlight-c1">//窗口三正在卖第100张票
</span><span class="highlight-c1"></span>    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p>线程安全问题产生的原理：<img src="https://raw.githubusercontent.com/Rainsheep/pic-bed/master/img/2020-02-07+16:22:43+p_20200207042235.png" alt=""></p>
</li>
<li>
<p>线程同步的三种方式：</p>
<ul>
<li>同步代码块</li>
<li>同步方法</li>
<li>锁机制</li>
</ul>
</li>
<li>
<p>同步锁：</p>
<ul>
<li>对象的同步锁只是一个概念，可以想象为在对象上标记了一个锁。</li>
<li>锁对象可以是任意类型。</li>
<li>多个线程对象要使用同一把锁。</li>
<li>在任何时候，最多允许一个线程拥有同步锁，谁拿到锁就进入代码块，其他的线程只能在外等着<br>
(BLOCKED)。</li>
</ul>
</li>
<li>
<p>同步代码块：<code>synchronized</code> 关键字可以用于方法中的某个区块中，表示只对这个区块的资源实行互斥访问。</p>
<pre><code class="highlight-chroma">synchronized(同步锁){
    需要同步操作的代码
}
</code></pre>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">RunnableImpl</span> <span class="highlight-kd">implements</span> <span class="highlight-n">Runnable</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span> <span class="highlight-n">ticket</span> <span class="highlight-o">=</span> <span class="highlight-n">10</span><span class="highlight-o">;</span>
    <span class="highlight-c1">//同步锁
</span><span class="highlight-c1"></span>    <span class="highlight-n">Object</span> <span class="highlight-n">lock</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Object</span><span class="highlight-o">();</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-k">while</span> <span class="highlight-o">(</span><span class="highlight-kc">true</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-c1">//同步代码块
</span><span class="highlight-c1"></span>            <span class="highlight-kd">synchronized</span><span class="highlight-o">(</span><span class="highlight-n">lock</span><span class="highlight-o">){</span>
                <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">ticket</span> <span class="highlight-o">&gt;</span> <span class="highlight-n">0</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                    <span class="highlight-k">try</span> <span class="highlight-o">{</span>
                        <span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">sleep</span><span class="highlight-o">(</span><span class="highlight-n">10</span><span class="highlight-o">);</span>
                    <span class="highlight-o">}</span> <span class="highlight-k">catch</span> <span class="highlight-o">(</span><span class="highlight-n">InterruptedException</span> <span class="highlight-n">e</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                        <span class="highlight-n">e</span><span class="highlight-o">.</span><span class="highlight-na">printStackTrace</span><span class="highlight-o">();</span>
                    <span class="highlight-o">}</span>
                    <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">currentThread</span><span class="highlight-o">().</span><span class="highlight-na">getName</span><span class="highlight-o">()</span> <span class="highlight-o">+</span> <span class="highlight-s">"正在卖第"</span> <span class="highlight-o">+</span> <span class="highlight-n">ticket</span> <span class="highlight-o">+</span> <span class="highlight-s">"张票"</span><span class="highlight-o">);</span>
                    <span class="highlight-n">ticket</span><span class="highlight-o">--;</span>
                <span class="highlight-o">}</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p>同步技术的原理：<img src="https://raw.githubusercontent.com/Rainsheep/pic-bed/master/img/2020-02-07+18:41:40+p_20200207064137.png" alt=""></p>
</li>
<li>
<p>同步方法：使用 <code>synchronized</code> 修饰的方法，就叫做同步方法，保证 A 线程执行该方法的时候，其他线程只能在方法外等着。</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">synchronized</span> <span class="highlight-kt">void</span> <span class="highlight-nf">method</span><span class="highlight-o">(){</span>
    <span class="highlight-n">可能会产生线程安全问题的代码</span>
<span class="highlight-o">}</span>
</code></pre>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">RunnableImpl</span> <span class="highlight-kd">implements</span> <span class="highlight-n">Runnable</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span> <span class="highlight-n">ticket</span> <span class="highlight-o">=</span> <span class="highlight-n">10</span><span class="highlight-o">;</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-k">while</span> <span class="highlight-o">(</span><span class="highlight-kc">true</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">fun</span><span class="highlight-o">();</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">synchronized</span> <span class="highlight-kt">void</span> <span class="highlight-nf">fun</span><span class="highlight-o">(){</span>
        <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">ticket</span> <span class="highlight-o">&gt;</span> <span class="highlight-n">0</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">currentThread</span><span class="highlight-o">().</span><span class="highlight-na">getName</span><span class="highlight-o">()</span> <span class="highlight-o">+</span> <span class="highlight-s">"正在卖第"</span> <span class="highlight-o">+</span> <span class="highlight-n">ticket</span> <span class="highlight-o">+</span> <span class="highlight-s">"张票"</span><span class="highlight-o">);</span>
            <span class="highlight-n">ticket</span><span class="highlight-o">--;</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<p>同步方法也会把方法内部的代码锁住，只让一个线程执行。</p>
</li>
<li>
<p>同步方法的对象：</p>
<ul>
<li>对于非 <code>static</code> 方法，同步锁就是 <code>this</code>。</li>
<li>对于 <code>static</code> 方法，我们使用当前方法所在类的字节码对象(类名。class)。</li>
</ul>
</li>
<li>
<p>Lock 锁：<code>java.util.concurrent.locks.lock</code> 机制提供了比 <code>sychronized</code> 代码块和 <code>synchronized</code> 方法更广泛的锁定操作，同步代码块/同步方法具有的功能 Lock 都有，除此之外，更强大，更体现面向对象。</p>
</li>
<li>
<p>Lock 锁也称为同步锁：</p>
<ul>
<li><code>public void lock()</code>：加同步锁</li>
<li><code>public void unlock()</code>：释放同步锁</li>
</ul>
</li>
<li>
<p>Lock 为接口，<code>java.util.concurrent.locks.ReentrantLock</code> 实现了 Lock 接口。</p>
</li>
<li>
<p>Lock 锁的使用方法：</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.concurrent.locks.Lock</span><span class="highlight-o">;</span>
<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.concurrent.locks.ReentrantLock</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">RunnableImpl</span> <span class="highlight-kd">implements</span> <span class="highlight-n">Runnable</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span> <span class="highlight-n">ticket</span> <span class="highlight-o">=</span> <span class="highlight-n">10</span><span class="highlight-o">;</span>
    <span class="highlight-c1">//1.在成员位置创建一个ReentrantLock对象
</span><span class="highlight-c1"></span>    <span class="highlight-n">Lock</span> <span class="highlight-n">lock</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">ReentrantLock</span><span class="highlight-o">();</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-k">while</span> <span class="highlight-o">(</span><span class="highlight-kc">true</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-c1">//2.在可能会出现安全问题的代码前调用Lock接口中的方法lock获取锁
</span><span class="highlight-c1"></span>            <span class="highlight-n">lock</span><span class="highlight-o">.</span><span class="highlight-na">lock</span><span class="highlight-o">();</span>
            <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">ticket</span> <span class="highlight-o">&gt;</span> <span class="highlight-n">0</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                <span class="highlight-c1">//提高安全问题出现的概率,让程序睡眠
</span><span class="highlight-c1"></span>                <span class="highlight-k">try</span> <span class="highlight-o">{</span>
                    <span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">sleep</span><span class="highlight-o">(</span><span class="highlight-n">10</span><span class="highlight-o">);</span>
                    <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">currentThread</span><span class="highlight-o">().</span><span class="highlight-na">getName</span><span class="highlight-o">()</span> <span class="highlight-o">+</span> <span class="highlight-s">"正在卖第"</span> <span class="highlight-o">+</span> <span class="highlight-n">ticket</span> <span class="highlight-o">+</span> <span class="highlight-s">"张票"</span><span class="highlight-o">);</span>
                    <span class="highlight-n">ticket</span><span class="highlight-o">--;</span>
                <span class="highlight-o">}</span> <span class="highlight-k">catch</span> <span class="highlight-o">(</span><span class="highlight-n">InterruptedException</span> <span class="highlight-n">e</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                    <span class="highlight-n">e</span><span class="highlight-o">.</span><span class="highlight-na">printStackTrace</span><span class="highlight-o">();</span>
                <span class="highlight-o">}</span> <span class="highlight-k">finally</span> <span class="highlight-o">{</span>
                    <span class="highlight-c1">//3.在可能会出现安全问题的代码后调用Lock接口中的方法unlock释放锁
</span><span class="highlight-c1"></span>                    <span class="highlight-n">lock</span><span class="highlight-o">.</span><span class="highlight-na">unlock</span><span class="highlight-o">();</span><span class="highlight-c1">//无论程序是否异常,都会把锁释放,这样写更好
</span><span class="highlight-c1"></span>                <span class="highlight-o">}</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p><code>synchronized</code> 是在 JVM 层面上实现的，如果代码执行出现异常，JVM 会自动释放锁，但是 <code>Lock</code> 不行，要保证锁一定会被释放，就必须将 <code>unLock</code> 放到 <code>finally{}</code> 中(手动释放)。</p>
</li>
<li>
<p>线程的 6 种状态：</p>
<table>
<thead>
<tr>
<th>线程状态</th>
<th>导致状态发送条件</th>
</tr>
</thead>
<tbody>
<tr>
<td>NEW(新建)</td>
<td>线程刚被创建，但是并未启动。还没有调用 start 方法。</td>
</tr>
<tr>
<td>Runnable(可运行)</td>
<td>线程可以在 Java 虚拟机中运行的状态，可能正在运行自己的代码，也可能没有，这取决于操作系统处理器。</td>
</tr>
<tr>
<td>Blocked(锁阻塞)</td>
<td>当一个线程试图获取一个对象锁，而该对象锁被其他的线程持有，则该线程进入 Blocked 状态;当该线程持有锁时，该线程将变为 Runnable 状态。</td>
</tr>
<tr>
<td>Waiting(无限等待)</td>
<td>一个线程在等待另一个线程执行唤醒动作时，该线程进入 Waiting 状态。进入这个状态后是不能自动唤醒的，必须等待另一个进程调用 notify 或者 notifyAll 方法才能够唤醒。</td>
</tr>
<tr>
<td>Timed Waiting(计时等待)</td>
<td>同 waiting 状态，有几个方法有超时参数，调用它们将进入 Timed Waiting 状态。这一状态将一直保持到超时期满或者接收到唤醒通知。带有超时参数的常用方法有 Thread.sleep、Object.wait。</td>
</tr>
<tr>
<td>Terminated(被终止)</td>
<td>因为 run 方法正常退出而死亡，或者因为没有捕获的异常终止了 run 方法而死亡。</td>
</tr>
</tbody>
</table>
<p><img src="https://raw.githubusercontent.com/Rainsheep/pic-bed/master/img/2020-02-07+19:40:56+p_20200207074053.png" alt=""></p>
</li>
<li>
<p><code>Timed Waiting</code> 可以被 <code>notify</code> 唤醒。</p>
</li>
<li>
<p><code>Obejct</code> 类中的方法：</p>
<ul>
<li><code>void wait()</code>:在其他线程调用此对象的 <code>notify()</code> 方法或 <code>notifyAll()</code> 方法前，导致当前线程等待。</li>
<li><code>void notify()</code>:唤醒在此对象监视器上等待的单个线程，会继续执行 <code>wait</code> 方法之后的代码。</li>
</ul>
</li>
<li>
<p>只有锁对象才能调用 <code>wait</code> 和 <code>notify</code> 方法。</p>
</li>
<li>
<p><code>wait</code> 和 <code>notify</code> 方法的使用案例：</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-cm">/*
</span><span class="highlight-cm">    等待唤醒案例:线程之间的通信
</span><span class="highlight-cm">        创建一个顾客线程(消费者):告知老板要的包子的种类和数量,调用wait方法,放弃cpu的执行,进入到WAITING状态(无限等待)
</span><span class="highlight-cm">        创建一个老板线程(生产者):花了5秒做包子,做好包子之后,调用notify方法,唤醒顾客吃包子
</span><span class="highlight-cm">
</span><span class="highlight-cm">    注意:
</span><span class="highlight-cm">        顾客和老板线程必须使用同步代码块包裹起来,保证等待和唤醒只能有一个在执行
</span><span class="highlight-cm">        同步使用的锁对象必须保证唯一
</span><span class="highlight-cm">        只有锁对象才能调用wait和notify方法,配合synchronized关键字使用
</span><span class="highlight-cm">
</span><span class="highlight-cm">    Obejct类中的方法
</span><span class="highlight-cm">    void wait()
</span><span class="highlight-cm">          在其他线程调用此对象的 notify() 方法或 notifyAll() 方法前，导致当前线程等待。
</span><span class="highlight-cm">    void notify()
</span><span class="highlight-cm">          唤醒在此对象监视器上等待的单个线程。
</span><span class="highlight-cm">          会继续执行wait方法之后的代码
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Demo01WaitAndNotify</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">//创建锁对象,保证唯一
</span><span class="highlight-c1"></span>        <span class="highlight-n">Object</span> <span class="highlight-n">obj</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Object</span><span class="highlight-o">();</span>
        <span class="highlight-c1">// 创建一个顾客线程(消费者)
</span><span class="highlight-c1"></span>        <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
            <span class="highlight-nd">@Override</span>
            <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
                <span class="highlight-c1">//一直等着买包子
</span><span class="highlight-c1"></span>                <span class="highlight-k">while</span> <span class="highlight-o">(</span><span class="highlight-kc">true</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                    <span class="highlight-c1">//保证等待和唤醒的线程只能有一个执行,需要使用同步技术
</span><span class="highlight-c1"></span>                    <span class="highlight-kd">synchronized</span> <span class="highlight-o">(</span><span class="highlight-n">obj</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"告知老板要的包子的种类和数量"</span><span class="highlight-o">);</span>
                        <span class="highlight-c1">//调用wait方法,放弃cpu的执行,进入到WAITING状态(无限等待)
</span><span class="highlight-c1"></span>                        <span class="highlight-k">try</span> <span class="highlight-o">{</span>
                            <span class="highlight-n">obj</span><span class="highlight-o">.</span><span class="highlight-na">wait</span><span class="highlight-o">();</span>
                        <span class="highlight-o">}</span> <span class="highlight-k">catch</span> <span class="highlight-o">(</span><span class="highlight-n">InterruptedException</span> <span class="highlight-n">e</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                            <span class="highlight-n">e</span><span class="highlight-o">.</span><span class="highlight-na">printStackTrace</span><span class="highlight-o">();</span>
                        <span class="highlight-o">}</span>
                        <span class="highlight-c1">//唤醒之后执行的代码
</span><span class="highlight-c1"></span>                        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"包子已经做好了,开吃!"</span><span class="highlight-o">);</span>
                        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"---------------------------------------"</span><span class="highlight-o">);</span>
                    <span class="highlight-o">}</span>
                <span class="highlight-o">}</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}.</span><span class="highlight-na">start</span><span class="highlight-o">();</span>

        <span class="highlight-c1">//创建一个老板线程(生产者)
</span><span class="highlight-c1"></span>        <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
            <span class="highlight-nd">@Override</span>
            <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
                <span class="highlight-c1">//一直做包子
</span><span class="highlight-c1"></span>                <span class="highlight-k">while</span> <span class="highlight-o">(</span><span class="highlight-kc">true</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                    <span class="highlight-c1">//花了5秒做包子
</span><span class="highlight-c1"></span>                    <span class="highlight-k">try</span> <span class="highlight-o">{</span>
                        <span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">sleep</span><span class="highlight-o">(</span><span class="highlight-n">5000</span><span class="highlight-o">);</span><span class="highlight-c1">//花5秒钟做包子
</span><span class="highlight-c1"></span>                    <span class="highlight-o">}</span> <span class="highlight-k">catch</span> <span class="highlight-o">(</span><span class="highlight-n">InterruptedException</span> <span class="highlight-n">e</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                        <span class="highlight-n">e</span><span class="highlight-o">.</span><span class="highlight-na">printStackTrace</span><span class="highlight-o">();</span>
                    <span class="highlight-o">}</span>

                    <span class="highlight-c1">//保证等待和唤醒的线程只能有一个执行,需要使用同步技术
</span><span class="highlight-c1"></span>                    <span class="highlight-kd">synchronized</span> <span class="highlight-o">(</span><span class="highlight-n">obj</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"老板5秒钟之后做好包子,告知顾客,可以吃包子了"</span><span class="highlight-o">);</span>
                        <span class="highlight-c1">//做好包子之后,调用notify方法,唤醒顾客吃包子
</span><span class="highlight-c1"></span>                        <span class="highlight-n">obj</span><span class="highlight-o">.</span><span class="highlight-na">notify</span><span class="highlight-o">();</span>
                    <span class="highlight-o">}</span>
                <span class="highlight-o">}</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}.</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p><code>wait()</code> 和 <code>notify()</code> 方法调用的前提是，二者所在的线程体中(即 <code>run</code> 方法体)都需要先通过 <code>synchronized</code> 获取对象的锁(同步代码块或同步方法)，否则会报异常 <code>IllegalMonitorStateException</code>,使用 <code>ReentrantLock</code> 的时候，用 <code>Condition</code> 对象来代替锁的 <code>wait()</code> 和 <code>notify()</code> 以及 <code>notifyAll()</code> 方法。</p>
</li>
<li>
<p>当线程调用 <code>wait()</code> 方法后，会<strong>释放锁对象</strong>，线程由 <code>RUNNING</code> 状态转向 <code>WAITING</code> 状态，即该线程<strong>进入等待队列中</strong>。</p>
<ul>
<li><code>wait()</code> 方法释放锁对象之前，<code>notifyThread</code> 线程会阻塞在 <code>synchronized</code> 获取锁对象的位置，而当 <code>wait()</code> 释放锁后，<code>notifyThread</code> 线程会由阻塞状态尝试竞争锁，并拿到锁，开始执行同步块，当执行到 <code>notify()</code> 方法后，会将 <code>waitThread</code> 线程从等待队列中移动到调度队列中，即若锁不空闲，<code>notify</code> 方法只会触发 <code>waitThread</code> 线程由 <code>WAITING</code> 非竞争状态转化为 <code>BLOCKED</code> 状态，即没有锁的时候，<code>notify()</code> 方法只是会触发 <code>wait()</code> 所在的线程由非竞争的等待队列进入锁竞争的调度队列，由 <code>WAITING</code> 状态转向 <code>BLOCKED</code> 状态(从 <code>wait set</code> 到 <code>entry set</code>)，想要执行 <code>wait()</code> 方法后续代码的前提是 <code>waitThread</code> 需要先竞争到锁对象，而由于 <code>notify()</code> 所在的同步块目前正持有锁，所以在 <code>notify</code> 从方法刚被调用(触发 <code>waitThread</code> 参与竞争)到所在的同步块释放锁，这个过程里，<code>waitThread</code> 只能一直堵塞，若唤醒后可以获取锁，就会从 <code>WAITING</code> 状态变成 <code>RUNNING</code> 状态。</li>
</ul>
</li>
</ul>
<h3 id="18--线程池-Lambda-表达式-">18.【线程池、Lambda 表达式】</h3>
<ul>
<li>
<p>生产者与消费者问题：<br>
包子铺线程生产包子，吃货线程消费包子。<br>
当包子没有时（包子状态为 false），吃货线程等待，包子铺线程生产包子（即包子状态为 true），并通知吃货线程（解除吃货的等待状态）,因为已经有包子了，那么包子铺线程进入等待状态。<br>
接下来，吃货线程能否进一步执行则取决于锁的获取情况。如果吃货获取到锁，那么就执行吃包子动作，包子吃完（包子状态为 false），并通知包子铺线程（解除包子铺的等待状态）,吃货线程进入等待。包子铺线程能否进一步执行则取决于锁的获取情况。</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-cm">/*
</span><span class="highlight-cm">    资源类:包子类
</span><span class="highlight-cm">	设置包子的属性
</span><span class="highlight-cm">		皮
</span><span class="highlight-cm">		陷
</span><span class="highlight-cm">		包子的状态: 有 true,没有 false
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">BaoZi</span> <span class="highlight-o">{</span>
    <span class="highlight-c1">//皮
</span><span class="highlight-c1"></span>    <span class="highlight-n">String</span> <span class="highlight-n">pi</span><span class="highlight-o">;</span>
    <span class="highlight-c1">//陷
</span><span class="highlight-c1"></span>    <span class="highlight-n">String</span> <span class="highlight-n">xian</span><span class="highlight-o">;</span>
    <span class="highlight-c1">//包子的状态: 有 true,没有 false,设置初始值为false没有包子
</span><span class="highlight-c1"></span>    <span class="highlight-kt">boolean</span> <span class="highlight-n">flag</span> <span class="highlight-o">=</span> <span class="highlight-kc">false</span><span class="highlight-o">;</span>
<span class="highlight-o">}</span>
</code></pre>
<pre><code class="language-java highlight-chroma"><span class="highlight-cm">/*
</span><span class="highlight-cm">    生产者(包子铺)类:是一个线程类,可以继承Thread
</span><span class="highlight-cm">	设置线程任务(run):生产包子
</span><span class="highlight-cm">	对包子的状态进行判断
</span><span class="highlight-cm">	true:有包子
</span><span class="highlight-cm">		包子铺调用wait方法进入等待状态
</span><span class="highlight-cm">	false:没有包子
</span><span class="highlight-cm">		包子铺生产包子
</span><span class="highlight-cm">		增加一些趣味性:交替生产两种包子
</span><span class="highlight-cm">			有两种状态(i%2==0)
</span><span class="highlight-cm">		包子铺生产好了包子
</span><span class="highlight-cm">		修改包子的状态为true有
</span><span class="highlight-cm">		唤醒吃货线程,让吃货线程吃包子
</span><span class="highlight-cm">
</span><span class="highlight-cm">	注意:
</span><span class="highlight-cm">	    包子铺线程和包子线程关系--&gt;通信(互斥)
</span><span class="highlight-cm">	    必须同时同步技术保证两个线程只能有一个在执行
</span><span class="highlight-cm">	    锁对象必须保证唯一,可以使用包子对象作为锁对象
</span><span class="highlight-cm">	    包子铺类和吃货的类就需要把包子对象作为参数传递进来
</span><span class="highlight-cm">	        1.需要在成员位置创建一个包子变量
</span><span class="highlight-cm">	        2.使用带参数构造方法,为这个包子变量赋值
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">BaoZiPu</span> <span class="highlight-kd">extends</span> <span class="highlight-n">Thread</span><span class="highlight-o">{</span>
    <span class="highlight-c1">//1.需要在成员位置创建一个包子变量
</span><span class="highlight-c1"></span>    <span class="highlight-kd">private</span> <span class="highlight-n">BaoZi</span> <span class="highlight-n">bz</span><span class="highlight-o">;</span>

    <span class="highlight-c1">//2.使用带参数构造方法,为这个包子变量赋值
</span><span class="highlight-c1"></span>    <span class="highlight-kd">public</span> <span class="highlight-nf">BaoZiPu</span><span class="highlight-o">(</span><span class="highlight-n">BaoZi</span> <span class="highlight-n">bz</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">bz</span> <span class="highlight-o">=</span> <span class="highlight-n">bz</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-c1">//设置线程任务(run):生产包子
</span><span class="highlight-c1"></span>    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">//定义一个变量
</span><span class="highlight-c1"></span>        <span class="highlight-kt">int</span> <span class="highlight-n">count</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>
        <span class="highlight-c1">//让包子铺一直生产包子
</span><span class="highlight-c1"></span>        <span class="highlight-k">while</span><span class="highlight-o">(</span><span class="highlight-kc">true</span><span class="highlight-o">){</span>
            <span class="highlight-c1">//必须同时同步技术保证两个线程只能有一个在执行
</span><span class="highlight-c1"></span>            <span class="highlight-kd">synchronized</span> <span class="highlight-o">(</span><span class="highlight-n">bz</span><span class="highlight-o">){</span>
                <span class="highlight-c1">//对包子的状态进行判断
</span><span class="highlight-c1"></span>                <span class="highlight-k">if</span><span class="highlight-o">(</span><span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">flag</span><span class="highlight-o">==</span><span class="highlight-kc">true</span><span class="highlight-o">){</span>
                    <span class="highlight-c1">//包子铺调用wait方法进入等待状态
</span><span class="highlight-c1"></span>                    <span class="highlight-k">try</span> <span class="highlight-o">{</span>
                        <span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">wait</span><span class="highlight-o">();</span>
                    <span class="highlight-o">}</span> <span class="highlight-k">catch</span> <span class="highlight-o">(</span><span class="highlight-n">InterruptedException</span> <span class="highlight-n">e</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                        <span class="highlight-n">e</span><span class="highlight-o">.</span><span class="highlight-na">printStackTrace</span><span class="highlight-o">();</span>
                    <span class="highlight-o">}</span>
                <span class="highlight-o">}</span>

                <span class="highlight-c1">//被唤醒之后执行,包子铺生产包子
</span><span class="highlight-c1"></span>                <span class="highlight-c1">//增加一些趣味性:交替生产两种包子
</span><span class="highlight-c1"></span>                <span class="highlight-k">if</span><span class="highlight-o">(</span><span class="highlight-n">count</span><span class="highlight-o">%</span><span class="highlight-n">2</span><span class="highlight-o">==</span><span class="highlight-n">0</span><span class="highlight-o">){</span>
                    <span class="highlight-c1">//生产 薄皮三鲜馅包子
</span><span class="highlight-c1"></span>                    <span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">pi</span> <span class="highlight-o">=</span> <span class="highlight-s">"薄皮"</span><span class="highlight-o">;</span>
                    <span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">xian</span> <span class="highlight-o">=</span> <span class="highlight-s">"三鲜馅"</span><span class="highlight-o">;</span>
                <span class="highlight-o">}</span><span class="highlight-k">else</span><span class="highlight-o">{</span>
                    <span class="highlight-c1">//生产 冰皮 牛肉大葱陷
</span><span class="highlight-c1"></span>                    <span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">pi</span> <span class="highlight-o">=</span> <span class="highlight-s">"冰皮"</span><span class="highlight-o">;</span>
                    <span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">xian</span> <span class="highlight-o">=</span> <span class="highlight-s">"牛肉大葱陷"</span><span class="highlight-o">;</span>

                <span class="highlight-o">}</span>
                <span class="highlight-n">count</span><span class="highlight-o">++;</span>
                <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"包子铺正在生产:"</span><span class="highlight-o">+</span><span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">pi</span><span class="highlight-o">+</span><span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">xian</span><span class="highlight-o">+</span><span class="highlight-s">"包子"</span><span class="highlight-o">);</span>
                <span class="highlight-c1">//生产包子需要3秒钟
</span><span class="highlight-c1"></span>                <span class="highlight-k">try</span> <span class="highlight-o">{</span>
                    <span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">sleep</span><span class="highlight-o">(</span><span class="highlight-n">3000</span><span class="highlight-o">);</span>
                <span class="highlight-o">}</span> <span class="highlight-k">catch</span> <span class="highlight-o">(</span><span class="highlight-n">InterruptedException</span> <span class="highlight-n">e</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                    <span class="highlight-n">e</span><span class="highlight-o">.</span><span class="highlight-na">printStackTrace</span><span class="highlight-o">();</span>
                <span class="highlight-o">}</span>
                <span class="highlight-c1">//包子铺生产好了包子
</span><span class="highlight-c1"></span>                <span class="highlight-c1">//修改包子的状态为true有
</span><span class="highlight-c1"></span>                <span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">flag</span> <span class="highlight-o">=</span> <span class="highlight-kc">true</span><span class="highlight-o">;</span>
                <span class="highlight-c1">//唤醒吃货线程,让吃货线程吃包子
</span><span class="highlight-c1"></span>                <span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">notify</span><span class="highlight-o">();</span>
                <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"包子铺已经生产好了:"</span><span class="highlight-o">+</span><span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">pi</span><span class="highlight-o">+</span><span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">xian</span><span class="highlight-o">+</span><span class="highlight-s">"包子,吃货可以开始吃了"</span><span class="highlight-o">);</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<pre><code class="language-java highlight-chroma"><span class="highlight-cm">/*
</span><span class="highlight-cm">    消费者(吃货)类:是一个线程类,可以继承Thread
</span><span class="highlight-cm">	设置线程任务(run):吃包子
</span><span class="highlight-cm">	对包子的状态进行判断
</span><span class="highlight-cm">	false:没有包子
</span><span class="highlight-cm">		吃货调用wait方法进入等待状态
</span><span class="highlight-cm">	true:有包子
</span><span class="highlight-cm">		吃货吃包子
</span><span class="highlight-cm">		吃货吃完包子
</span><span class="highlight-cm">		修改包子的状态为false没有
</span><span class="highlight-cm">		吃货唤醒包子铺线程,生产包子
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">ChiHuo</span> <span class="highlight-kd">extends</span> <span class="highlight-n">Thread</span><span class="highlight-o">{</span>
    <span class="highlight-c1">//1.需要在成员位置创建一个包子变量
</span><span class="highlight-c1"></span>    <span class="highlight-kd">private</span> <span class="highlight-n">BaoZi</span> <span class="highlight-n">bz</span><span class="highlight-o">;</span>

    <span class="highlight-c1">//2.使用带参数构造方法,为这个包子变量赋值
</span><span class="highlight-c1"></span>    <span class="highlight-kd">public</span> <span class="highlight-nf">ChiHuo</span><span class="highlight-o">(</span><span class="highlight-n">BaoZi</span> <span class="highlight-n">bz</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">bz</span> <span class="highlight-o">=</span> <span class="highlight-n">bz</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>
    <span class="highlight-c1">//设置线程任务(run):吃包子
</span><span class="highlight-c1"></span>    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">//使用死循环,让吃货一直吃包子
</span><span class="highlight-c1"></span>        <span class="highlight-k">while</span> <span class="highlight-o">(</span><span class="highlight-kc">true</span><span class="highlight-o">){</span>
            <span class="highlight-c1">//必须同时同步技术保证两个线程只能有一个在执行
</span><span class="highlight-c1"></span>            <span class="highlight-kd">synchronized</span> <span class="highlight-o">(</span><span class="highlight-n">bz</span><span class="highlight-o">){</span>
                <span class="highlight-c1">//对包子的状态进行判断
</span><span class="highlight-c1"></span>                <span class="highlight-k">if</span><span class="highlight-o">(</span><span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">flag</span><span class="highlight-o">==</span><span class="highlight-kc">false</span><span class="highlight-o">){</span>
                    <span class="highlight-c1">//吃货调用wait方法进入等待状态
</span><span class="highlight-c1"></span>                    <span class="highlight-k">try</span> <span class="highlight-o">{</span>
                        <span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">wait</span><span class="highlight-o">();</span>
                    <span class="highlight-o">}</span> <span class="highlight-k">catch</span> <span class="highlight-o">(</span><span class="highlight-n">InterruptedException</span> <span class="highlight-n">e</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                        <span class="highlight-n">e</span><span class="highlight-o">.</span><span class="highlight-na">printStackTrace</span><span class="highlight-o">();</span>
                    <span class="highlight-o">}</span>
                <span class="highlight-o">}</span>

                <span class="highlight-c1">//被唤醒之后执行的代码,吃包子
</span><span class="highlight-c1"></span>                <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"吃货正在吃:"</span><span class="highlight-o">+</span><span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">pi</span><span class="highlight-o">+</span><span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">xian</span><span class="highlight-o">+</span><span class="highlight-s">"的包子"</span><span class="highlight-o">);</span>
                <span class="highlight-c1">//吃货吃完包子
</span><span class="highlight-c1"></span>                <span class="highlight-c1">//修改包子的状态为false没有
</span><span class="highlight-c1"></span>                <span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">flag</span> <span class="highlight-o">=</span> <span class="highlight-kc">false</span><span class="highlight-o">;</span>
                <span class="highlight-c1">//吃货唤醒包子铺线程,生产包子
</span><span class="highlight-c1"></span>                <span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">notify</span><span class="highlight-o">();</span>
                <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"吃货已经把:"</span><span class="highlight-o">+</span><span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">pi</span><span class="highlight-o">+</span><span class="highlight-n">bz</span><span class="highlight-o">.</span><span class="highlight-na">xian</span><span class="highlight-o">+</span><span class="highlight-s">"的包子吃完了,包子铺开始生产包子"</span><span class="highlight-o">);</span>
                <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"----------------------------------------------------"</span><span class="highlight-o">);</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<pre><code class="language-java highlight-chroma"><span class="highlight-cm">/*
</span><span class="highlight-cm">    测试类:
</span><span class="highlight-cm">	包含main方法,程序执行的入口,启动程序
</span><span class="highlight-cm">	创建包子对象;
</span><span class="highlight-cm">	创建包子铺线程,开启,生产包子;
</span><span class="highlight-cm">	创建吃货线程,开启,吃包子;
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Demo</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">//创建包子对象;
</span><span class="highlight-c1"></span>        <span class="highlight-n">BaoZi</span> <span class="highlight-n">bz</span> <span class="highlight-o">=</span><span class="highlight-k">new</span> <span class="highlight-n">BaoZi</span><span class="highlight-o">();</span>
        <span class="highlight-c1">//创建包子铺线程,开启,生产包子;
</span><span class="highlight-c1"></span>        <span class="highlight-k">new</span> <span class="highlight-n">BaoZiPu</span><span class="highlight-o">(</span><span class="highlight-n">bz</span><span class="highlight-o">).</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
        <span class="highlight-c1">//创建吃货线程,开启,吃包子;
</span><span class="highlight-c1"></span>        <span class="highlight-k">new</span> <span class="highlight-n">ChiHuo</span><span class="highlight-o">(</span><span class="highlight-n">bz</span><span class="highlight-o">).</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p><code>wait()</code> 方法应该始终用在 <code>while</code> 循环而不是 <code>if</code> 中：当有一个消费者和一个生产者的时候 <code>if</code> 不会出错，当有多个生产者或者多个消费者的时候，<code>if</code> 就会出错。<br>
<code>if</code> 出错的关键在于：一个线程执行了 <code>wait</code> 方法以后，它不会再继续执行了，直到被 <code>notify</code> 唤醒，那么唤醒以后从何处开始执行？<br>
下面是一个生产者，两个消费者的代码：</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">SynStack</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span> <span class="highlight-n">cnt</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span> <span class="highlight-n">full</span> <span class="highlight-o">=</span> <span class="highlight-n">1</span><span class="highlight-o">;</span>

    <span class="highlight-kd">public</span> <span class="highlight-kd">synchronized</span> <span class="highlight-kt">void</span> <span class="highlight-nf">push</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">//此处应为while，不应该使用if
</span><span class="highlight-c1"></span>        <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">cnt</span> <span class="highlight-o">&gt;=</span> <span class="highlight-n">full</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-k">try</span> <span class="highlight-o">{</span>
                <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"生产线程"</span> <span class="highlight-o">+</span> <span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">currentThread</span><span class="highlight-o">().</span><span class="highlight-na">getName</span><span class="highlight-o">()</span> <span class="highlight-o">+</span> <span class="highlight-s">"准备休眠了"</span><span class="highlight-o">);</span>
                <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">wait</span><span class="highlight-o">();</span>
                <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"生产线程"</span> <span class="highlight-o">+</span> <span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">currentThread</span><span class="highlight-o">().</span><span class="highlight-na">getName</span><span class="highlight-o">()</span> <span class="highlight-o">+</span> <span class="highlight-s">"休眠结束了"</span><span class="highlight-o">);</span>
            <span class="highlight-o">}</span> <span class="highlight-k">catch</span> <span class="highlight-o">(</span><span class="highlight-n">InterruptedException</span> <span class="highlight-n">e</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                <span class="highlight-n">e</span><span class="highlight-o">.</span><span class="highlight-na">printStackTrace</span><span class="highlight-o">();</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}</span>

        <span class="highlight-k">try</span> <span class="highlight-o">{</span>
            <span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">sleep</span><span class="highlight-o">(</span><span class="highlight-n">1000</span><span class="highlight-o">);</span>
        <span class="highlight-o">}</span> <span class="highlight-k">catch</span> <span class="highlight-o">(</span><span class="highlight-n">InterruptedException</span> <span class="highlight-n">e</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">e</span><span class="highlight-o">.</span><span class="highlight-na">printStackTrace</span><span class="highlight-o">();</span>
        <span class="highlight-o">}</span>
        <span class="highlight-n">cnt</span><span class="highlight-o">++;</span>
        <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">notify</span><span class="highlight-o">();</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"生产线程"</span> <span class="highlight-o">+</span> <span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">currentThread</span><span class="highlight-o">().</span><span class="highlight-na">getName</span><span class="highlight-o">()</span> <span class="highlight-o">+</span> <span class="highlight-s">"正在生产第"</span> <span class="highlight-o">+</span> <span class="highlight-n">cnt</span> <span class="highlight-o">+</span> <span class="highlight-s">"个产品"</span><span class="highlight-o">);</span>
    <span class="highlight-o">}</span>

    <span class="highlight-kd">public</span> <span class="highlight-kd">synchronized</span> <span class="highlight-kt">void</span> <span class="highlight-nf">pop</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">//此处应为while，不应该使用if
</span><span class="highlight-c1"></span>        <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">cnt</span> <span class="highlight-o">&lt;=</span> <span class="highlight-n">0</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-k">try</span> <span class="highlight-o">{</span>
                <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"消费线程"</span> <span class="highlight-o">+</span> <span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">currentThread</span><span class="highlight-o">().</span><span class="highlight-na">getName</span><span class="highlight-o">()</span> <span class="highlight-o">+</span> <span class="highlight-s">"准备休眠了"</span><span class="highlight-o">);</span>
                <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">wait</span><span class="highlight-o">();</span>
                <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"消费线程"</span> <span class="highlight-o">+</span> <span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">currentThread</span><span class="highlight-o">().</span><span class="highlight-na">getName</span><span class="highlight-o">()</span> <span class="highlight-o">+</span> <span class="highlight-s">"休眠结束了"</span><span class="highlight-o">);</span>
            <span class="highlight-o">}</span> <span class="highlight-k">catch</span> <span class="highlight-o">(</span><span class="highlight-n">InterruptedException</span> <span class="highlight-n">e</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                <span class="highlight-n">e</span><span class="highlight-o">.</span><span class="highlight-na">printStackTrace</span><span class="highlight-o">();</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}</span>

        <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">notify</span><span class="highlight-o">();</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"消费线程"</span> <span class="highlight-o">+</span> <span class="highlight-n">Thread</span><span class="highlight-o">.</span><span class="highlight-na">currentThread</span><span class="highlight-o">().</span><span class="highlight-na">getName</span><span class="highlight-o">()</span> <span class="highlight-o">+</span> <span class="highlight-s">"正在消费第"</span> <span class="highlight-o">+</span> <span class="highlight-n">cnt</span> <span class="highlight-o">+</span> <span class="highlight-s">"个产品"</span><span class="highlight-o">);</span>
        <span class="highlight-n">cnt</span><span class="highlight-o">--;</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Producer</span> <span class="highlight-kd">implements</span> <span class="highlight-n">Runnable</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">SynStack</span> <span class="highlight-n">ss</span> <span class="highlight-o">=</span> <span class="highlight-kc">null</span><span class="highlight-o">;</span>

    <span class="highlight-kd">public</span> <span class="highlight-nf">Producer</span><span class="highlight-o">(</span><span class="highlight-n">SynStack</span> <span class="highlight-n">ss</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">ss</span> <span class="highlight-o">=</span> <span class="highlight-n">ss</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-k">while</span> <span class="highlight-o">(</span><span class="highlight-kc">true</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">ss</span><span class="highlight-o">.</span><span class="highlight-na">push</span><span class="highlight-o">();</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Consumer</span> <span class="highlight-kd">implements</span> <span class="highlight-n">Runnable</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">SynStack</span> <span class="highlight-n">ss</span> <span class="highlight-o">=</span> <span class="highlight-kc">null</span><span class="highlight-o">;</span>

    <span class="highlight-kd">public</span> <span class="highlight-nf">Consumer</span><span class="highlight-o">(</span><span class="highlight-n">SynStack</span> <span class="highlight-n">ss</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">ss</span> <span class="highlight-o">=</span> <span class="highlight-n">ss</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-k">while</span> <span class="highlight-o">(</span><span class="highlight-kc">true</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">ss</span><span class="highlight-o">.</span><span class="highlight-na">pop</span><span class="highlight-o">();</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">package1</span><span class="highlight-o">;</span>

<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Main</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">SynStack</span> <span class="highlight-n">ss</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">SynStack</span><span class="highlight-o">();</span>
        <span class="highlight-n">Producer</span> <span class="highlight-n">producer</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Producer</span><span class="highlight-o">(</span><span class="highlight-n">ss</span><span class="highlight-o">);</span>
        <span class="highlight-n">Consumer</span> <span class="highlight-n">consumer1</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Consumer</span><span class="highlight-o">(</span><span class="highlight-n">ss</span><span class="highlight-o">);</span>
        <span class="highlight-n">Consumer</span> <span class="highlight-n">consumer2</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Consumer</span><span class="highlight-o">(</span><span class="highlight-n">ss</span><span class="highlight-o">);</span>

        <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">(</span><span class="highlight-n">producer</span><span class="highlight-o">,</span> <span class="highlight-s">"1号"</span><span class="highlight-o">).</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
        <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">(</span><span class="highlight-n">consumer1</span><span class="highlight-o">,</span> <span class="highlight-s">"6号"</span><span class="highlight-o">).</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
        <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">(</span><span class="highlight-n">consumer2</span><span class="highlight-o">,</span> <span class="highlight-s">"7号"</span><span class="highlight-o">).</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
<pre><code class="highlight-chroma">//运行结果
生产线程1号正在生产第1个产品
生产线程1号准备休眠了
消费线程7号正在消费第1个产品
消费线程7号准备休眠了
消费线程6号准备休眠了
生产线程1号休眠结束了
生产线程1号正在生产第1个产品
生产线程1号准备休眠了
消费线程7号休眠结束了
消费线程7号正在消费第1个产品
消费线程7号准备休眠了
消费线程6号休眠结束了
消费线程6号正在消费第0个产品
</code></pre>
<p>问题出现：6 号线程消费了第 0 个产品，为什么这样？<br>
7 号消费者唤醒了 6 号消费者，而 6 号消费者被唤醒以后会从 <code>wait</code> 后面开始执行，就会消费第 0 个产品，所以使用 <code>wait</code> 的话，应该使用 <code>while</code> 循环判断。</p>
</li>
<li>
<p>JDK1.5 后，内置了线程池。</p>
</li>
<li>
<p>线程池的好处：</p>
<ul>
<li>降低资源消耗。减少了创建和销毁线程的次数，每个工作线程都可以被重复利用，可执行多个任务。</li>
<li>提高响应速度。当任务到达时，任务可以不需要的等到线程创建就能立即执行。</li>
<li>提高线程的可管理性。可以根据系统的承受能力，调整线程池中工作线线程的数目，防止因为消耗过多的内存，而把服务器累趴下(每个线程需要大约 1MB 内存，线程开的越多，消耗的内存也就越大，最后死机)。</li>
</ul>
</li>
<li>
<p>线程池的顶级接口为 <code>java.util.concurrent.Executor</code>，严格意义上讲 <code>Executor</code> 并不是一个线程池，只是一个执行线程的工具，真正的线程池接口是 <code>java.util.concurrent.ExecutorService</code>。</p>
</li>
<li>
<p>官方建议使用线程工厂类 <code>java.concurrent.Executors</code> 来创建线程池对象。</p>
<ul>
<li><code>public static ExecutorService newFixedThreadPool(int nThreads)</code>:返回线程池对象(有界的线程池，参数为线程个数)，使用 <code>ExecutorService</code> 接口接受</li>
</ul>
</li>
<li>
<p>线程池提交线程：</p>
<ul>
<li><code>public Future&lt;?&gt; submit(Runnable task)</code>:获取线程池中某一个线程对象，并执行</li>
<li><code>Future</code> 接口：用来记录线程任务执行完毕后产生的结果</li>
</ul>
</li>
<li>
<p>关闭/销毁线程池的方法：<code>void shutdown()</code> 不建议使用。</p>
</li>
<li>
<p>使用线程池的时候，不关闭线程池程序就不会停止。</p>
</li>
<li>
<p>线程池使用样例：</p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kn">package</span> <span class="highlight-nn">com.itheima.demo02.ThreadPool</span><span class="highlight-o">;</span>

<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.concurrent.ExecutorService</span><span class="highlight-o">;</span>
<span class="highlight-kn">import</span> <span class="highlight-nn">java.util.concurrent.Executors</span><span class="highlight-o">;</span>

<span class="highlight-cm">/*
</span><span class="highlight-cm">    线程池:JDK1.5之后提供的
</span><span class="highlight-cm">    java.util.concurrent.Executors:线程池的工厂类,用来生成线程池
</span><span class="highlight-cm">    Executors类中的静态方法:
</span><span class="highlight-cm">        static ExecutorService newFixedThreadPool(int nThreads) 创建一个可重用固定线程数的线程池
</span><span class="highlight-cm">        参数:
</span><span class="highlight-cm">            int nThreads:创建线程池中包含的线程数量
</span><span class="highlight-cm">        返回值:
</span><span class="highlight-cm">            ExecutorService接口,返回的是ExecutorService接口的实现类对象,我们可以使用ExecutorService接口接收(面向接口编程)
</span><span class="highlight-cm">    java.util.concurrent.ExecutorService:线程池接口
</span><span class="highlight-cm">        用来从线程池中获取线程,调用start方法,执行线程任务
</span><span class="highlight-cm">            submit(Runnable task) 提交一个 Runnable 任务用于执行
</span><span class="highlight-cm">        关闭/销毁线程池的方法
</span><span class="highlight-cm">            void shutdown()
</span><span class="highlight-cm">    线程池的使用步骤:
</span><span class="highlight-cm">        1.使用线程池的工厂类Executors里边提供的静态方法newFixedThreadPool生产一个指定线程数量的线程池
</span><span class="highlight-cm">        2.创建一个类,实现Runnable接口,重写run方法,设置线程任务
</span><span class="highlight-cm">        3.调用ExecutorService中的方法submit,传递线程任务(实现类),开启线程,执行run方法
</span><span class="highlight-cm">        4.调用ExecutorService中的方法shutdown销毁线程池(不建议执行)
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Demo01ThreadPool</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">//1.使用线程池的工厂类Executors里边提供的静态方法newFixedThreadPool生产一个指定线程数量的线程池
</span><span class="highlight-c1"></span>        <span class="highlight-n">ExecutorService</span> <span class="highlight-n">es</span> <span class="highlight-o">=</span> <span class="highlight-n">Executors</span><span class="highlight-o">.</span><span class="highlight-na">newFixedThreadPool</span><span class="highlight-o">(</span><span class="highlight-n">2</span><span class="highlight-o">);</span>
        <span class="highlight-c1">//3.调用ExecutorService中的方法submit,传递线程任务(实现类),开启线程,执行run方法
</span><span class="highlight-c1"></span>        <span class="highlight-n">es</span><span class="highlight-o">.</span><span class="highlight-na">submit</span><span class="highlight-o">(</span><span class="highlight-k">new</span> <span class="highlight-n">RunnableImpl</span><span class="highlight-o">());</span><span class="highlight-c1">//pool-1-thread-1创建了一个新的线程执行
</span><span class="highlight-c1"></span>        <span class="highlight-c1">//线程池会一直开启,使用完了线程,会自动把线程归还给线程池,线程可以继续使用
</span><span class="highlight-c1"></span>        <span class="highlight-n">es</span><span class="highlight-o">.</span><span class="highlight-na">submit</span><span class="highlight-o">(</span><span class="highlight-k">new</span> <span class="highlight-n">RunnableImpl</span><span class="highlight-o">());</span><span class="highlight-c1">//pool-1-thread-1创建了一个新的线程执行
</span><span class="highlight-c1"></span>        <span class="highlight-n">es</span><span class="highlight-o">.</span><span class="highlight-na">submit</span><span class="highlight-o">(</span><span class="highlight-k">new</span> <span class="highlight-n">RunnableImpl</span><span class="highlight-o">());</span><span class="highlight-c1">//pool-1-thread-2创建了一个新的线程执行
</span><span class="highlight-c1"></span>
        <span class="highlight-c1">//4.调用ExecutorService中的方法shutdown销毁线程池(不建议执行)
</span><span class="highlight-c1"></span>        <span class="highlight-n">es</span><span class="highlight-o">.</span><span class="highlight-na">shutdown</span><span class="highlight-o">();</span>

        <span class="highlight-n">es</span><span class="highlight-o">.</span><span class="highlight-na">submit</span><span class="highlight-o">(</span><span class="highlight-k">new</span> <span class="highlight-n">RunnableImpl</span><span class="highlight-o">());</span><span class="highlight-c1">//抛异常,线程池都没有了,就不能获取线程了
</span><span class="highlight-c1"></span>    <span class="highlight-o">}</span>

<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p><code>Lambda</code> 表达式的标准格式：<code>(参数列表) -&gt; { 重写方法的代码 }</code></p>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Main</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">(()</span> <span class="highlight-o">-&gt;</span> <span class="highlight-o">{</span>
            <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"Hello world!"</span><span class="highlight-o">);</span>
        <span class="highlight-o">}).</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p><code>Lambda</code> 的省略规则：</p>
<ul>
<li>小括号内参数类型可以省略。</li>
<li>小括号内有且仅有一个参数时，小括号可以省略。</li>
<li>大括号有且仅有一个语句，则无论是否有返回值，则可以省略大括号、<code>return </code> 关键字及语句分号，这三个必须一起省略或者不省略。</li>
</ul>
<pre><code class="language-java highlight-chroma"><span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Main</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">new</span> <span class="highlight-n">Thread</span><span class="highlight-o">(()</span> <span class="highlight-o">-&gt;</span> <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"Hello world!"</span><span class="highlight-o">)).</span><span class="highlight-na">start</span><span class="highlight-o">();</span>
        <span class="highlight-n">ArrayList</span><span class="highlight-o">&lt;</span><span class="highlight-n">Person</span><span class="highlight-o">&gt;</span> <span class="highlight-n">list</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">ArrayList</span><span class="highlight-o">&lt;&gt;();</span>
        <span class="highlight-n">Collections</span><span class="highlight-o">.</span><span class="highlight-na">sort</span><span class="highlight-o">(</span><span class="highlight-n">list</span><span class="highlight-o">,</span> <span class="highlight-o">(</span><span class="highlight-n">o1</span><span class="highlight-o">,</span><span class="highlight-n">o2</span><span class="highlight-o">)</span> <span class="highlight-o">-&gt;</span> <span class="highlight-n">o1</span><span class="highlight-o">.</span><span class="highlight-na">getAge</span><span class="highlight-o">()</span> <span class="highlight-o">-</span> <span class="highlight-n">o2</span><span class="highlight-o">.</span><span class="highlight-na">getAge</span><span class="highlight-o">());</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre>
</li>
<li>
<p>使用 <code>Lambda</code> 的前提：</p>
<ul>
<li>必须具有接口，且要求<strong>接口中有且仅有一个抽象方法</strong>(例如 <code>Runnable</code>、<code>Comparator</code>)。</li>
<li>使用 <code>Lambda</code> 必须具有上下文推断。<br>
也就是方法的参数或局部变量类型必须为 <code>Lambda</code> 对应的接口类型，才能使用 <code>Lambda</code> 作为该接口的实例。</li>
</ul>
<blockquote>
<p>有且仅有一个抽象方法的接口，称之为<strong>函数式接口</strong>。</p>
</blockquote>
</li>
</ul>
                            <div>
                                <hr>

标题：Java学习笔记-基础篇(1)<br>
作者：<a href="https://Rainsheep.github.io" target="_blank">Rainsheep</a><br>
地址：<a href="https://Rainsheep.github.io/articles/2020/02/19/1582051510367.html" target="_blank">https://Rainsheep.github.io/articles/2020/02/19/1582051510367.html</a><br>

<!-- 签名档内可使用 HTML、JavaScript -->
<br>
                            </div>
                    </div>
                </div>
            </div>

                <div class="module mobile__hidden">
                    <div class="module__content fn__clear">
                            <a href="https://Rainsheep.github.io/articles/2020/02/11/1581366279386.html" rel="prev" class="fn__left breadcrumb">
                                旧一篇: Java中的编码和解码
                            </a>
                            <a href="https://Rainsheep.github.io/articles/2020/02/19/1582052137407.html" rel="next"
                               class="fn__right breadcrumb">
                                Java学习笔记-基础篇(2): 新一篇
                            </a>
                    </div>
                </div>

                <div class="module mobile__hidden fn__none">
                    <div class="module__content">
                        <a href="https://Rainsheep.github.io/articles/2020/02/11/1581366279386.html" rel="prev" class="breadcrumb">
                            旧一篇: Java中的编码和解码
                        </a>
                    </div>
                </div>

                <div class="module mobile__hidden fn__none">
                    <div class="module__content">
                        <a href="https://Rainsheep.github.io/articles/2020/02/19/1582052137407.html" rel="next"
                           class="breadcrumb">
                            新一篇: Java学习笔记-基础篇(2)
                        </a>
                    </div>
                </div>
                <div id="b3logsolocomments"></div>
                <div id="vcomment" class="module__content"
                     style="border-radius: 5px;margin-bottom: 30px;box-shadow: 1px 1px 3px 1px rgba(0,0,0,0.2);transition: all .3s;"
                     data-name="Rainsheep" data-postId="1582051510367"></div>

            <div class="fn__flex article__relevant">
                <div class="fn__flex-1" id="externalRelevantArticlesWrap">
                    <div class="module">
                        <div id="externalRelevantArticles" class="module__list"></div>
                    </div>
                </div>
                <div class="mobile__hidden">&nbsp; &nbsp; &nbsp; &nbsp;</div>
                <div class="fn__flex-1" id="randomArticlesWrap">
                    <div class="module">
                        <div id="randomArticles" class="module__list"></div>
                    </div>
                </div>
                <div class="mobile__hidden">&nbsp; &nbsp; &nbsp; &nbsp;</div>
                <div class="fn__flex-1" id="relevantArticlesWrap">
                    <div class="module">
                        <div id="relevantArticles" class="module__list"></div>
                    </div>
                </div>
            </div>
        </main>
    </div>
<aside class="side">
        <div class="module">
            <div class="module__list">
<ul class="article__toc">
        <li class="toc__h3">
            <a href="#1---前言-入门程序-常量-变量-">1. 【前言、入门程序、常量、变量】</a>
        </li>
        <li class="toc__h3">
            <a href="#2---数据类型转换-运算符-方法入门-">2. 【数据类型转换、运算符、方法入门】</a>
        </li>
        <li class="toc__h3">
            <a href="#3---流程控制语句-">3. 【流程控制语句】</a>
        </li>
        <li class="toc__h3">
            <a href="#5---数组-">5. 【数组】</a>
        </li>
        <li class="toc__h3">
            <a href="#6---类与对象-封装-构造方法-">6. 【类与对象、封装、构造方法】</a>
        </li>
        <li class="toc__h3">
            <a href="#8---String-类-static-关键字-Arrays-类-Math-类-">8. 【String 类、static 关键字、Arrays 类、Math 类】</a>
        </li>
        <li class="toc__h3">
            <a href="#9---继承-super-this-抽象类-">9. 【继承、super、this、抽象类】</a>
        </li>
        <li class="toc__h3">
            <a href="#10--接口-多态-">10.【接口、多态】</a>
        </li>
        <li class="toc__h3">
            <a href="#11--final-权限-内部类-引用类型-">11.【final、权限、内部类、引用类型】</a>
        </li>
        <li class="toc__h3">
            <a href="#12--Object-类-常用-API-">12.【Object 类、常用 API】</a>
        </li>
        <li class="toc__h3">
            <a href="#13--Collection-泛型-">13.【Collection、泛型】</a>
        </li>
        <li class="toc__h3">
            <a href="#14--List-Set-">14.【List、Set】</a>
        </li>
        <li class="toc__h3">
            <a href="#15--Map-">15.【Map】</a>
        </li>
        <li class="toc__h3">
            <a href="#16--异常-线程-">16.【异常、线程】</a>
        </li>
        <li class="toc__h3">
            <a href="#17--线程-同步-">17.【线程、同步】</a>
        </li>
        <li class="toc__h3">
            <a href="#18--线程池-Lambda-表达式-">18.【线程池、Lambda 表达式】</a>
        </li>
</ul>            </div>
        </div>
        <section class="vditor-reset module">
            <main class="module__content">
                <b><i><font><span id="hitokoto">欢迎来到Rain sheep的博客</span></font></i></b>
<script src="https://v1.hitokoto.cn/?encode=js&select=%23hitokoto" defer></script>
<!-- 公告栏可使用 HTML、JavaScript，比如可以在此加入第三方统计 js -->
            </main>
        </section>


    <div class="module item">
        <header class="module__header ft__center">
            Rainsheep
        </header>
        <main class="module__content ft__center">
            <img class="side__avatar" src="https://img.hacpai.com/avatar/1573792699119_1577275046042.jpeg?imageView2/1/w/128/h/128/interlace/0/q/100" alt="Rainsheep"/>
            咸鱼不配拥有梦想 <br> <br>
    <a href="https://hacpai.com/member/Rainsheep"
       title="https://hacpai.com/member/Rainsheep"
       class="user__site"
       target="_blank" rel="noopener nofollow">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path fill="#d23f31" style="fill: var(--color1, #d23f31)" d="M5.787 17.226h17.033l5.954 9.528c0.47 0.752 0.003 1.361-1.042 1.361h-15.141z"></path>
            <path d="M10.74 3.927h17.033c1.045 0 1.512 0.609 1.042 1.361l-5.954 9.528h-19.872l6.379-10.209c0.235-0.376 0.849-0.681 1.372-0.681z"></path>
            <path d="M2.953 17.226h2.839l6.804 10.889h-1.892c-0.523 0-1.137-0.305-1.372-0.681z"></path>
        </svg>
    </a>

        <a href="https://github.com/Rainsheep"
           title="https://github.com/Rainsheep"
           class="user__site"
           target="_blank" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M16 0.331c-8.836 0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182 0.8 0.148 1.094-0.347 1.094-0.77 0-0.381-0.015-1.642-0.022-2.979-4.452 0.968-5.391-1.888-5.391-1.888-0.728-1.849-1.776-2.341-1.776-2.341-1.452-0.993 0.11-0.973 0.11-0.973 1.606 0.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33 0.143-1.034 0.558-1.74 1.016-2.14-3.554-0.404-7.29-1.777-7.29-7.907 0-1.747 0.625-3.174 1.649-4.295-0.166-0.403-0.714-2.030 0.155-4.234 0 0 1.344-0.43 4.401 1.64 1.276-0.355 2.645-0.532 4.005-0.539 1.359 0.006 2.729 0.184 4.008 0.539 3.054-2.070 4.395-1.64 4.395-1.64 0.871 2.204 0.323 3.831 0.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295 0 6.145-3.743 7.498-7.306 7.895 0.574 0.497 1.085 1.47 1.085 2.963 0 2.141-0.019 3.864-0.019 4.391 0 0.426 0.288 0.925 1.099 0.768 6.354-2.118 10.933-8.113 10.933-15.18 0-8.837-7.164-16-16-16z"></path>
            </svg>
        </a>

        <a href="tencent://message/?uin=1045674971"
           title="1045674971"
           target="_blank"
           class="user__site" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M4.821 14.393c-0.125-0.304-0.143-0.607-0.143-0.929 0-0.5 0.321-1.304 0.625-1.679-0.018-0.464 0.179-1.411 0.536-1.714 0-3.304 2.554-7.464 5.536-8.893 1.839-0.875 3.768-1.179 5.786-1.179 1.571 0 3.286 0.375 4.75 0.982 4.196 1.768 5.143 5.054 6.036 9.25l0.018 0.089c0.518 0.786 0.982 1.714 0.982 2.679 0 0.482-0.321 0.964-0.321 1.393 0 0.036 0.107 0.179 0.125 0.214 1.536 2.268 2.929 4.732 2.929 7.554 0 0.625-0.339 2.804-1.339 2.804-0.696 0-1.464-1.696-1.714-2.161-0.018-0.018-0.036-0.018-0.054-0.018l-0.089 0.071c-0.571 1.482-1.196 2.875-2.357 3.982 1.018 0.982 2.661 0.893 2.964 2.589-0.089 0.196-0.054 0.411-0.196 0.607-1.018 1.536-3.75 1.732-5.393 1.732-2.179 0-3.946-0.571-6-1.179-0.429-0.125-1.071-0.054-1.536-0.107-1.089 1.196-3.75 1.518-5.286 1.518-1.357 0-6.607-0.089-6.607-2.411 0-1 0.214-1.286 0.911-1.929 0.554-0.107 0.964-0.411 1.607-0.446 0.089 0 0.161-0.018 0.25-0.036 0.018-0.018 0.036-0.018 0.036-0.071l-0.036-0.054c-1.232-0.286-2.964-3.393-3.232-4.679l-0.089-0.054c-0.125 0-0.179 0.268-0.214 0.357-0.393 0.911-1.321 1.893-2.357 2h-0.018c-0.143 0-0.089-0.143-0.196-0.179-0.25-0.589-0.411-1.125-0.411-1.786 0-3.571 1.714-6.214 4.5-8.321z"></path>
            </svg>
        </a>
        </main>
    </div>


        <div class="module item">
            <header class="module__header">标签</header>
            <main class="module__content--three module__content fn__clear">
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/acm"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="76 篇文章">
                        acm</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="59 篇文章">
                        知识点总结</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/Java"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="29 篇文章">
                        Java</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="24 篇文章">
                        学习笔记</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E8%BD%AF%E4%BB%B6%E6%95%99%E7%A8%8B"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="23 篇文章">
                        软件教程</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/STL"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="20 篇文章">
                        STL</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/DP"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="15 篇文章">
                        DP</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/windows"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="15 篇文章">
                        windows</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/Shadowsocks"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="13 篇文章">
                        Shadowsocks</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/ss"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="13 篇文章">
                        ss</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E5%89%8D%E7%AB%AF"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="9 篇文章">
                        前端</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/Linux"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="7 篇文章">
                        Linux</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E6%A0%91"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="6 篇文章">
                        树</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E6%95%B0%E5%AD%A6%E9%97%AE%E9%A2%98"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="5 篇文章">
                        数学问题</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E7%94%9F%E6%B4%BB%E8%BD%A8%E8%BF%B9"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="5 篇文章">
                        生活轨迹</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E6%A8%A1%E6%8B%9F"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="5 篇文章">
                        模拟</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E5%9B%BE"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="3 篇文章">
                        图</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="3 篇文章">
                        字符串</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E9%80%92%E5%BD%92"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="3 篇文章">
                        递归</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/python"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="3 篇文章">
                        python</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/centos"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="2 篇文章">
                        centos</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E9%80%92%E6%8E%A8"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="2 篇文章">
                        递推</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E5%BC%80%E6%BA%90"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="2 篇文章">
                        开源</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E6%B0%B4%E9%A2%98"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="2 篇文章">
                        水题</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/NOSQL"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="1 篇文章">
                        NOSQL</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/html"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="1 篇文章">
                        html</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/dfs"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="1 篇文章">
                        dfs</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E7%A1%AC%E4%BB%B6"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="1 篇文章">
                        硬件</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="1 篇文章">
                        数据库</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/bfs"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="1 篇文章">
                        bfs</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E8%B5%84%E6%BA%90%E6%90%9C%E7%B4%A2"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="1 篇文章">
                        资源搜索</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/%E5%9B%BE%E5%BA%8A"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="1 篇文章">
                        图床</a>
                    <a rel="tag"
                       href="https://Rainsheep.github.io/tags/GitHub"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="1 篇文章">
                        GitHub</a>
            </main>
        </div>

    <div class="module item">
        <div class="module__header">
            <div class="fn__flex">
                <a href="https://Rainsheep.github.io/archives.html" class="fn__flex-1 ft__center">
                    211
                    文章
                </a>
            </div>
            <br/>
            <div class="fn__flex">
                <div class="fn__flex-1 ft__center">
                    <span data-uvstaturl="https://Rainsheep.github.io">3369</span> <span class="ft-gray">浏览</span>
                </div>
            </div>
        </div>
    </div>
</aside>
    
</div>
</div>
<div class="icon__up" onclick="Util.goTop()"></div>
<footer class="footer">
    &copy; 2020
    <a href="https://Rainsheep.github.io">雨羊的个人博客</a>
    <a href="http://www.beian.miit.gov.cn/" rel="noopener nofollow" target="_blank">豫ICP备19042440号</a>
    <div class="fn__none"></div>
    <br/>

    Powered by <a href="https://solo.b3log.org" target="_blank">Solo</a>
    <div class="fn__none"></div>
    &nbsp; &heartsuit;  &nbsp;
    Theme nijigen
    <sup>[<a href="https://github.com/ZEROKISEKI/hexo-theme-gal" target="_blank">ref</a>]</sup>
    by <a href="http://vanessa.b3log.org" target="_blank">Vanessa</a>
</footer>
<div class="icon-up" onclick="Util.goTop()"></div>

<script>
  var Label = {
    servePath: "https://Rainsheep.github.io",
    staticServePath: "https://cdn.jsdelivr.net/gh/88250/solo/src/main/resources",
    luteAvailable: true,
    hljsStyle: 'github',
    langLabel: "zh_CN",
    version: "3.9.0",
    staticSite: true,
    showCodeBlockLn: false,
  }
</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/88250/solo/src/main/resources/skins/nijigen/js/common.min.js?1584471619574" charset="utf-8"></script>


<script type="text/javascript">
    Util.addScript('https://cdn.jsdelivr.net/gh/88250/solo/src/main/resources/js/page.min.js?1584471619574', 'soloPageScript')
    var page = new Page({
        "commentContentCannotEmptyLabel": "评论内容只能为 2 到 500 个字符！",
        "oId": "1582051510367",
        "blogHost": "https://Rainsheep.github.io",
        "randomArticles1Label": "随机阅读：",
        "externalRelevantArticles1Label": "站外相关阅读："
    });
    $(document).ready(function () {
        page.load();
    page.tips.externalRelevantArticlesDisplayCount = "0";
    Skin.initArticle()
    });
</script>

</body>
</html>

<!-- Generated by Latke (https://github.com/88250/latke) in 77ms, 2020/03/18 19:04:12 -->